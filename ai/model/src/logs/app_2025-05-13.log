2025-05-13 11:25:15,916 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:25:15,938 - app - INFO - All routers registered successfully
2025-05-13 11:26:02,580 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:26:02,599 - app - INFO - All routers registered successfully
2025-05-13 11:26:15,979 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:26:15,999 - app - INFO - All routers registered successfully
2025-05-13 11:26:30,829 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:26:30,846 - app - INFO - All routers registered successfully
2025-05-13 11:26:48,291 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:26:48,311 - app - INFO - All routers registered successfully
2025-05-13 11:26:58,581 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:26:58,607 - app - INFO - All routers registered successfully
2025-05-13 11:29:16,802 - __mp_main__ - ERROR - Error registering routers: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = client = OpenAI()
                        ~~~~~~^^
  File "/Users/doa_ai/Developer/Grab-project/venv/lib/python3.13/site-packages/openai/_client.py", line 116, in __init__
    raise OpenAIError(
        "The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable"
    )
openai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-05-13 11:29:19,921 - __mp_main__ - ERROR - Error registering routers: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI()
               ~~~~~~^^
  File "/Users/doa_ai/Developer/Grab-project/venv/lib/python3.13/site-packages/openai/_client.py", line 116, in __init__
    raise OpenAIError(
        "The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable"
    )
openai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-05-13 11:29:38,151 - __mp_main__ - ERROR - Error registering routers: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI()
               ~~~~~~^^
  File "/Users/doa_ai/Developer/Grab-project/venv/lib/python3.13/site-packages/openai/_client.py", line 116, in __init__
    raise OpenAIError(
        "The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable"
    )
openai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-05-13 11:29:43,539 - __mp_main__ - ERROR - Error registering routers: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI()
               ~~~~~~^^
  File "/Users/doa_ai/Developer/Grab-project/venv/lib/python3.13/site-packages/openai/_client.py", line 116, in __init__
    raise OpenAIError(
        "The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable"
    )
openai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-05-13 11:29:47,023 - __mp_main__ - ERROR - Error registering routers: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI()
               ~~~~~~^^
  File "/Users/doa_ai/Developer/Grab-project/venv/lib/python3.13/site-packages/openai/_client.py", line 116, in __init__
    raise OpenAIError(
        "The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable"
    )
openai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-05-13 11:29:53,097 - __mp_main__ - ERROR - Error registering routers: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI()
               ~~~~~~^^
  File "/Users/doa_ai/Developer/Grab-project/venv/lib/python3.13/site-packages/openai/_client.py", line 116, in __init__
    raise OpenAIError(
        "The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable"
    )
openai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-05-13 11:29:58,155 - __mp_main__ - ERROR - Error registering routers: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI()
               ~~~~~~^^
  File "/Users/doa_ai/Developer/Grab-project/venv/lib/python3.13/site-packages/openai/_client.py", line 116, in __init__
    raise OpenAIError(
        "The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable"
    )
openai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-05-13 11:30:08,645 - __mp_main__ - ERROR - Error registering routers: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI()
               ~~~~~~^^
  File "/Users/doa_ai/Developer/Grab-project/venv/lib/python3.13/site-packages/openai/_client.py", line 116, in __init__
    raise OpenAIError(
        "The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable"
    )
openai.OpenAIError: The api_key client option must be set either by passing api_key to the client or by setting the OPENAI_API_KEY environment variable
2025-05-13 11:31:17,844 - __mp_main__ - ERROR - Error registering routers: OpenAI.__init__() got an unexpected keyword argument 'temperature'
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI(api_key=os.getenv("OPEN_API_KEY"), temperature=temperature, model="gpt-4o", max_tokens=4000)
               ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: OpenAI.__init__() got an unexpected keyword argument 'temperature'
2025-05-13 11:31:21,400 - __mp_main__ - ERROR - Error registering routers: OpenAI.__init__() got an unexpected keyword argument 'temperature'
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 30, in register_routers
    from src.services.genrate_plan_api import router as trip_plan_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/genrate_plan_api.py", line 17, in <module>
    model = PlanModel()
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/plan_agent.py", line 62, in __init__
    self.llm = OpenAI(api_key=os.getenv("OPEN_API_KEY"), temperature=temperature, model="gpt-4o", max_tokens=4000)
               ~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: OpenAI.__init__() got an unexpected keyword argument 'temperature'
2025-05-13 11:31:35,057 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:31:35,081 - app - INFO - All routers registered successfully
2025-05-13 11:32:30,469 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:32:30,491 - app - INFO - All routers registered successfully
2025-05-13 11:32:30,493 - src.services.suggest_api - INFO - Processing recommendation query for hochiminh
2025-05-13 11:32:30,500 - src.agents.travel_agent - INFO - Setting up all databases...
2025-05-13 11:32:32,410 - src.agents.travel_agent - INFO - All databases setup completed
2025-05-13 11:32:32,411 - src.agents.travel_agent - INFO - Processing query: 
        Planning a trip to hochiminh with the following details:
        - Group: 2 adults, 1 children, 0 infants
        - Budget: mid (approx. 10000000 VND)
        - Duration: 10 days
        - Season: summer
        - Travel Style: family
        
        Preferences:
        - Transportation: No specific preference
        - Accommodation: Hotel
        - Food: Vegetarian
        - Places to visit: No specific preference
        - Activities: Hiking
        - Extra: No specific preference

        IMPORTANT: Please focus on finding recommendations specifically in hochiminh. All suggestions should be located in or near this destination.
        
        Please suggest:
        1. Suitable accommodations in hochiminh
        2. Interesting activities and places to visit in hochiminh
        3. Recommended restaurants and food options in hochiminh
        
        Consider:
        - The travel style and preferences
        - The season and weather conditions in hochiminh
        - The budget constraints
        - The duration of stay
        - The location and its unique offerings
        - All recommendations must be in hochiminh
        
2025-05-13 11:32:32,411 - src.agents.travel_agent - DEBUG - Sending request to OpenAI...
2025-05-13 11:32:34,961 - src.agents.travel_agent - INFO - OpenAI response: ChatCompletion(id='chatcmpl-BWbbdldjDCqyu4bAaXT2CRUBATzv5', choices=[Choice(finish_reason='function_call', index=0, logprobs=None, message=ChatCompletionMessage(content=None, refusal=None, role='assistant', annotations=[], audio=None, function_call=FunctionCall(arguments='{"query_text":"hotel in Ho Chi Minh for family with 2 adults and 1 child, mid-range budget, suitable for summer stay","top_k":15}', name='query_hotels'), tool_calls=None))], created=1747110753, model='gpt-4.1-mini-2025-04-14', object='chat.completion', service_tier='default', system_fingerprint='fp_79b79be41f', usage=CompletionUsage(completion_tokens=45, prompt_tokens=1002, total_tokens=1047, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0)))
2025-05-13 11:32:34,961 - src.agents.travel_agent - INFO - Model response message: ChatCompletionMessage(content=None, refusal=None, role='assistant', annotations=[], audio=None, function_call=FunctionCall(arguments='{"query_text":"hotel in Ho Chi Minh for family with 2 adults and 1 child, mid-range budget, suitable for summer stay","top_k":15}', name='query_hotels'), tool_calls=None)
2025-05-13 11:32:34,961 - src.agents.travel_agent - INFO - Function call: query_hotels
2025-05-13 11:32:34,961 - src.agents.travel_agent - DEBUG - Function arguments: {'query_text': 'hotel in Ho Chi Minh for family with 2 adults and 1 child, mid-range budget, suitable for summer stay', 'top_k': 15}
2025-05-13 11:32:34,961 - src.agents.travel_agent - INFO - Querying all databases with context
2025-05-13 11:32:34,961 - src.agents.travel_agent - INFO - Querying hotels with context: hotel in Ho Chi Minh for family with 2 adults and 1 child, mid-range budget, suitable for summer stay
2025-05-13 11:32:34,961 - src.agents.travel_agent - INFO - top_k for query hotels is: 15
2025-05-13 11:32:34,962 - src.agents.travel_agent - INFO - filter for query hotels is: {'city': {'$eq': 'hochiminh'}}
2025-05-13 11:32:37,486 - src.agents.travel_agent - INFO - Added 15 hotel recommendations
2025-05-13 11:32:37,487 - src.agents.travel_agent - INFO - Querying places with context: hotel in Ho Chi Minh for family with 2 adults and 1 child, mid-range budget, suitable for summer stay
2025-05-13 11:32:37,487 - src.agents.travel_agent - INFO - top_k for query places is: 50
2025-05-13 11:32:37,487 - src.agents.travel_agent - INFO - filter for query places is: {'city': {'$eq': 'hochiminh'}}
2025-05-13 11:32:37,487 - src.agents.travel_agent - INFO - hochiminh)
2025-05-13 11:32:41,241 - src.agents.travel_agent - INFO - ids for query places is: ['place_013240', 'place_001445', 'place_013243', 'place_013228', 'place_013892', 'place_013252', 'place_001752', 'place_013202', 'place_004755', 'place_013231', 'place_015811', 'place_015465', 'place_013938', 'place_013029', 'place_012766', 'place_012842', 'place_013633', 'place_015635', 'place_013850', 'place_015494', 'place_015663', 'place_013254', 'place_013839', 'place_013790', 'place_012691', 'place_013709', 'place_013372', 'place_013542', 'place_015725', 'place_013793', 'place_013746', 'place_013400', 'place_013626', 'place_015719', 'place_015352', 'place_013594', 'place_002414', 'place_014065', 'place_012903', 'place_012814', 'place_013178', 'place_015630', 'place_013620', 'place_013700', 'place_013672', 'place_013864', 'place_014079', 'place_013697', 'place_013381', 'place_012910']
2025-05-13 11:32:41,242 - src.agents.travel_agent - INFO - place_ids: ['place_013240', 'place_001445', 'place_013243', 'place_013228', 'place_013892', 'place_013252', 'place_001752', 'place_013202', 'place_004755', 'place_013231', 'place_015811', 'place_015465', 'place_013938', 'place_013029', 'place_012766', 'place_012842', 'place_013633', 'place_015635', 'place_013850', 'place_015494', 'place_015663', 'place_013254', 'place_013839', 'place_013790', 'place_012691', 'place_013709', 'place_013372', 'place_013542', 'place_015725', 'place_013793', 'place_013746', 'place_013400', 'place_013626', 'place_015719', 'place_015352', 'place_013594', 'place_002414', 'place_014065', 'place_012903', 'place_012814', 'place_013178', 'place_015630', 'place_013620', 'place_013700', 'place_013672', 'place_013864', 'place_014079', 'place_013697', 'place_013381', 'place_012910']
2025-05-13 11:32:41,242 - src.agents.travel_agent - INFO - Added 50 place recommendations
2025-05-13 11:32:41,242 - src.agents.travel_agent - INFO - Querying restaurants with context: hotel in Ho Chi Minh for family with 2 adults and 1 child, mid-range budget, suitable for summer stay
2025-05-13 11:32:41,242 - src.agents.travel_agent - INFO - top_k for query fnb is: 50
2025-05-13 11:32:41,242 - src.agents.travel_agent - INFO - filter for query fnb is: {'city': {'$eq': 'hochiminh'}}
2025-05-13 11:32:44,121 - src.agents.travel_agent - INFO - Added 49 restaurant recommendations
2025-05-13 11:32:44,122 - src.agents.travel_agent - INFO - Final result distribution: 15 hotels, 50 places, 49 restaurants
2025-05-13 11:32:44,122 - src.services.suggest_api - INFO - Recommendation query processed successfully, got 114 items
2025-05-13 11:32:44,122 - src.services.suggest_api - INFO - Grouped recommendations: 15 accommodations, 50 places, 49 restaurants
2025-05-13 11:32:44,122 - src.services.suggest_api - INFO - Final response has 114 items
2025-05-13 11:32:44,280 - src.services.genrate_plan_api - INFO - Received raw trip plan request: dict_keys(['destination_id', 'accommodation', 'places', 'restaurants'])
2025-05-13 11:32:44,280 - src.services.genrate_plan_api - INFO - Extracted 15 accommodations, 50 places, and 49 restaurants
2025-05-13 11:32:44,281 - src.services.genrate_plan_api - INFO - Destination identified as: hochiminh
2025-05-13 11:32:44,281 - src.services.genrate_plan_api - INFO - Generating plan with destination: hochiminh
2025-05-13 11:33:35,437 - src.services.genrate_plan_api - INFO - Generated plan: {'trip_name': 'Trip to Hochiminh', 'start_date': '2025-05-13', 'end_date': '2025-05-15', 'user_id': 'user123', 'destination_id': 'hochiminh', 'plan_by_day': [{'date': '2025-05-13', 'day_title': 'Ng√†y 1: Kh√°m ph√° bi·ªÉn', 'segments': [{'time_of_day': 'morning', 'activities': [{'id': 'hotel_011054', 'type': 'accommodation', 'name': 'Scenic Valley 2 Near SECC, Cresent Mall', 'start_time': '08:00', 'end_time': '10:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c t·∫≠n h∆∞·ªüng kh√¥ng gian tho·∫£i m√°i t·∫°i kh√°ch s·∫°n n√†y. ƒê√¢y l√† n∆°i l√Ω t∆∞·ªüng ƒë·ªÉ ngh·ªâ ng∆°i v√† chu·∫©n b·ªã cho h√†nh tr√¨nh kh√°m ph√° th√∫ v·ªùi ph√≠a tr∆∞·ªõc.', 'location': 'Qu·∫≠n 7, TP. H√¥ÃÄ ChiÃÅ Minh', 'rating': 8.4, 'price': 1980000.0, 'image_url': 'https://cf.bstatic.com/xdata/images/hotel/max1024x768/592010155.jpg', 'booking_link': 'https://cf.bstatic.com/xdata/images/hotel/max1024x768/592010155.jpg', 'room_info': '', 'tax_info': 'ƒê√£ bao g·ªìm thu·∫ø v√† ph√≠', 'elderly_friendly': False, 'url': ''}]}, {'time_of_day': 'afternoon', 'activities': [{'id': 'place_013240', 'type': 'place', 'name': 'From Ho Chi Minh City: 2-Day Mekong Delta Tour Homestay', 'start_time': '14:00', 'end_time': '16:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c kh√°m ph√° ƒë·ªãa ƒëi·ªÉm tuy·ªát v·ªùi n√†y v·ªõi nh·ªØng c·∫£nh quan ƒë·ªôc ƒë√°o. H√£y chu·∫©n b·ªã m√°y ·∫£nh ƒë·ªÉ l∆∞u l·∫°i nh·ªØng kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ!', 'address': 'TP. H√¥ÃÄ ChiÃÅ Minh', 'categories': '', 'duration': '', 'opening_hours': 'M·ªü c·ª≠a t·ª´ ng√†y mai', 'rating': 5.0, 'price': 89.0, 'image_url': 'https://www.booking.com/attractions/vn/pra5rfmsfykg-2days-1night-stay-homestay-adventure-cycling-kayak-mekong-delta.vi.html?adplat=www-searchresults_irene-web_shell_header-attraction-missing_creative-1HRTulv2EAgQ9bVsRka1O2&aid=304142&label=gen173nr-1FCAQoggJCEHNlYXJjaF9ow6AgbuG7mWlIKlgEaPQBiAEBmAEquAEHyAEM2AEB6AEB-AEDiAIBqAIDuAKV75HABsACAdICJDJjNTc3NTFlLTBkZjctNGFiOC05MjlhLTk3ZTJlYzBhMmE2ZtgCBeACAQ&client_name=b-web-shell-bff&distribution_id=1HRTulv2EAgQ9bVsRka1O2&source=searchresults-product-card&ufi=-3730078', 'url': ''}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_013431', 'type': 'restaurant', 'name': 'B√°nh Tr√°ng Kim Ng·ªçc - Nguy·ªÖn Tr√£i', 'start_time': '19:00', 'end_time': '21:00', 'description': 'H√£y c√πng th∆∞·ªüng th·ª©c nh·ªØng m√≥n ƒÉn ƒë·∫∑c s·∫£n ƒë·ªãa ph∆∞∆°ng t·∫°i nh√† h√†ng n√†y. B·∫°n s·∫Ω ƒë∆∞·ª£c ƒë·∫Øm m√¨nh trong h∆∞∆°ng v·ªã ƒë·∫∑c tr∆∞ng kh√¥ng th·ªÉ t√¨m th·∫•y ·ªü n∆°i n√†o kh√°c.', 'address': '402 Nguy·ªÖn Tr√£i, P. 8, Qu·∫≠n 5, TP. HCM', 'cuisines': '', 'price_range': '', 'rating': 4.12, 'phone': '0903112131', 'services': [{'name': 'ShopeeFood', 'url': 'https://www.deliverynow.vn/ho-chi-minh/banh-trang-kim-ngoc-nguyen-trai', 'type': 0}], 'image_url': '', 'url': 'https://www.foody.vn/ho-chi-minh/banh-trang-kim-ngoc-nguyen-trai'}]}], 'daily_tips': ['- N√™n tham gia c√°c tour du l·ªãch ƒë·ªÉ thu·∫≠n ti·ªán h∆°n', '- ƒê·∫∑t v√© tham quan s·ªõm ƒë·ªÉ tr√°nh t√¨nh tr·∫°ng h·∫øt ch·ªó', '- Th·ªùi gian di chuy·ªÉn gi·ªØa c√°c ƒë·ªãa ƒëi·ªÉm kho·∫£ng 1-2 gi·ªù, c·∫ßn l√™n l·ªãch tr∆∞·ªõc', '- N√™n mang theo n∆∞·ªõc u·ªëng v√† ƒë·ªì ƒÉn nh·∫π khi tham quan', '- ƒêeo kh·∫©u trang v√† s√°t khu·∫©n tay ƒë·ªÅ ph√≤ng d·ªãch b·ªánh']}, {'date': '2025-05-14', 'day_title': 'Ng√†y 2: Kh√°m ph√° n√∫i', 'segments': [{'time_of_day': 'morning', 'activities': []}, {'time_of_day': 'afternoon', 'activities': [{'id': 'place_013243', 'type': 'place', 'name': '2 Days 1 Nights Cu Chi Tunnels-Mekong Delta Homestay Special Trip', 'start_time': '14:00', 'end_time': '16:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c kh√°m ph√° ƒë·ªãa ƒëi·ªÉm tuy·ªát v·ªùi n√†y v·ªõi nh·ªØng c·∫£nh quan ƒë·ªôc ƒë√°o. H√£y chu·∫©n b·ªã m√°y ·∫£nh ƒë·ªÉ l∆∞u l·∫°i nh·ªØng kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ!', 'address': 'TP. H√¥ÃÄ ChiÃÅ Minh', 'categories': '', 'duration': '', 'opening_hours': 'M·ªü c·ª≠a t·ª´ ng√†y mai', 'rating': 0.0, 'price': 419.0, 'image_url': 'https://www.booking.com/attractions/vn/prefphpgv68d-2-days-1-nights-cu-chi-tunnels-mekong-delta-homestay-special-trip.vi.html?adplat=www-searchresults_irene-web_shell_header-attraction-missing_creative-1HRTulv2EAgQ9bVsRka1O2&aid=304142&label=gen173nr-1FCAQoggJCEHNlYXJjaF9ow6AgbuG7mWlIKlgEaPQBiAEBmAEquAEHyAEM2AEB6AEB-AEDiAIBqAIDuAKV75HABsACAdICJDJjNTc3NTFlLTBkZjctNGFiOC05MjlhLTk3ZTJlYzBhMmE2ZtgCBeACAQ&client_name=b-web-shell-bff&distribution_id=1HRTulv2EAgQ9bVsRka1O2&source=searchresults-product-card&ufi=-3730078', 'url': ''}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_014360', 'type': 'restaurant', 'name': 'Lu Hotdog - Hotdog & Hamburger - Phan ƒêƒÉng L∆∞u', 'start_time': '19:00', 'end_time': '21:00', 'description': 'H√£y c√πng th∆∞·ªüng th·ª©c nh·ªØng m√≥n ƒÉn ƒë·∫∑c s·∫£n ƒë·ªãa ph∆∞∆°ng t·∫°i nh√† h√†ng n√†y. B·∫°n s·∫Ω ƒë∆∞·ª£c ƒë·∫Øm m√¨nh trong h∆∞∆°ng v·ªã ƒë·∫∑c tr∆∞ng kh√¥ng th·ªÉ t√¨m th·∫•y ·ªü n∆°i n√†o kh√°c.', 'address': '107 Phan ƒêƒÉng L∆∞u, P. 7, Qu·∫≠n Ph√∫ Nhu·∫≠n, TP. HCM', 'cuisines': '', 'price_range': '', 'rating': 8.0, 'phone': 'ƒêang c·∫≠p nh·∫≠t', 'services': [{'name': 'ShopeeFood', 'url': 'https://www.deliverynow.vn/ho-chi-minh/lu-hotdog-hotdog-hamburger-phan-dang-luu', 'type': 0}], 'image_url': '', 'url': 'https://www.foody.vn/ho-chi-minh/lu-hotdog-hotdog-hamburger-phan-dang-luu'}]}], 'daily_tips': ['- Ch·ªçn th·ªùi gian s√°ng s·ªõm ho·∫∑c bu·ªïi chi·ªÅu ƒë·ªÉ tham quan n√∫i.', '- Chu·∫©n b·ªã ƒë·ªß n∆∞·ªõc u·ªëng v√† th·ª©c ƒÉn khi leo n√∫i.', '- Chu·∫©n b·ªã k·ªπ l∆∞·ª°ng tr∆∞·ªõc khi mua v√© v√†o c·ª≠a ƒë·ªÉ nh·∫≠n ∆∞u ƒë√£i gi·∫£m gi√°.', '- M·∫∑c ƒë·ªì l·ªãch s·ª± khi thƒÉm n√∫i.', '- Mang ƒë·ªß ti·ªÅn m·∫∑t v√† ƒëi·ªán tho·∫°i di ƒë·ªông c√≥ pin d·ª± ph√≤ng khi ƒëi du l·ªãch.']}, {'date': '2025-05-15', 'day_title': 'Ng√†y 3: Kh√°m ph√° vƒÉn h√≥a', 'segments': [{'time_of_day': 'morning', 'activities': []}, {'time_of_day': 'afternoon', 'activities': [{'id': 'place_013892', 'type': 'place', 'name': 'Vietnam Family Fun In 9 Days - Departure From Ho Chi Minh', 'start_time': '14:00', 'end_time': '16:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c kh√°m ph√° ƒë·ªãa ƒëi·ªÉm tuy·ªát v·ªùi n√†y v·ªõi nh·ªØng c·∫£nh quan ƒë·ªôc ƒë√°o. H√£y chu·∫©n b·ªã m√°y ·∫£nh ƒë·ªÉ l∆∞u l·∫°i nh·ªØng kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ!', 'address': 'TP. H√¥ÃÄ ChiÃÅ Minh', 'categories': '', 'duration': '', 'opening_hours': 'M·ªü c·ª≠a t·ª´ 13 thg 5', 'rating': 0.0, 'price': 1.91, 'image_url': 'https://www.booking.com/attractions/vn/prdwxqumfquu-vietnam-family-fun-in-9-days-departure-from-ho-chi-minh.vi.html?adplat=www-searchresults_irene-web_shell_header-attraction-missing_creative-1HRTulv2EAgQ9bVsRka1O2&aid=304142&label=gen173nr-1FCAQoggJCEHNlYXJjaF9ow6AgbuG7mWlIKlgEaPQBiAEBmAEquAEHyAEM2AEB6AEB-AEDiAIBqAIDuAKV75HABsACAdICJDJjNTc3NTFlLTBkZjctNGFiOC05MjlhLTk3ZTJlYzBhMmE2ZtgCBeACAQ&client_name=b-web-shell-bff&distribution_id=1HRTulv2EAgQ9bVsRka1O2&source=searchresults-product-card&ufi=-3730078', 'url': ''}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_014868', 'type': 'restaurant', 'name': '248 Tr∆∞·ªùng Sa Qu√°n', 'start_time': '19:00', 'end_time': '21:00', 'description': 'H√£y c√πng th∆∞·ªüng th·ª©c nh·ªØng m√≥n ƒÉn ƒë·∫∑c s·∫£n ƒë·ªãa ph∆∞∆°ng t·∫°i nh√† h√†ng n√†y. B·∫°n s·∫Ω ƒë∆∞·ª£c ƒë·∫Øm m√¨nh trong h∆∞∆°ng v·ªã ƒë·∫∑c tr∆∞ng kh√¥ng th·ªÉ t√¨m th·∫•y ·ªü n∆°i n√†o kh√°c.', 'address': '248 Tr∆∞·ªùng Sa, P. 3, Qu·∫≠n B√¨nh Th·∫°nh, TP. HCM', 'cuisines': '', 'price_range': '', 'rating': 7.558, 'phone': '0938003636', 'services': [{'name': 'ShopeeFood', 'url': 'https://www.deliverynow.vn/ho-chi-minh/248-truong-sa-quan', 'type': 0}], 'image_url': '', 'url': 'https://www.foody.vn/ho-chi-minh/248-truong-sa-quan'}]}], 'daily_tips': ['- N√™n b·∫Øt ƒë·∫ßu s·ªõm t·ª´ 6-8h s√°ng khi thƒÉm th√†nh ph·ªë H·ªì Ch√≠ Minh ƒë·ªÉ tr√°nh n√≥ng v√† ƒë√¥ng ƒë√∫c.', '- S·ª≠ d·ª•ng Grab ho·∫∑c taxi ch√≠nh h√£ng khi di chuy·ªÉn ·ªü H·ªì Ch√≠ Minh ƒë·ªÉ tr√°nh b·ªã l·ª´a ƒë·∫£o.', '- D·ª± ki·∫øn chi ph√≠ kho·∫£ng 500.000 - 1.000.000 VND m·ªói ng√†y khi du l·ªãch t·∫°i H·ªì Ch√≠ Minh.', '- Tr√°nh mua h√†ng t·∫°i c√°c ƒëi·ªÉm du l·ªãch n·ªïi ti·∫øng ƒë·ªÉ ti·∫øt ki·ªám.', '- T√¥n tr·ªçng vƒÉn h√≥a ƒë·ªãa ph∆∞∆°ng khi ƒÉn u·ªëng t·∫°i c√°c qu√°n ƒÉn ·ªü H·ªì Ch√≠ Minh.']}]}
2025-05-13 11:33:35,440 - src.services.genrate_plan_api - INFO - Trip plan request processed successfully
2025-05-13 11:33:57,492 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:33:57,522 - app - INFO - All routers registered successfully
2025-05-13 11:34:20,323 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:34:20,346 - app - INFO - All routers registered successfully
2025-05-13 11:34:29,239 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 11:34:29,284 - app - INFO - All routers registered successfully
2025-05-13 11:34:33,894 - src.services.suggest_api - INFO - Processing recommendation query for hochiminh
2025-05-13 11:34:33,907 - src.agents.travel_agent - INFO - Setting up all databases...
2025-05-13 11:34:36,365 - src.agents.travel_agent - INFO - All databases setup completed
2025-05-13 11:34:36,366 - src.agents.travel_agent - INFO - Processing query: 
        Planning a trip to hochiminh with the following details:
        - Group: 2 adults, 1 children, 0 infants
        - Budget: mid (approx. 10000000 VND)
        - Duration: 10 days
        - Season: summer
        - Travel Style: family
        
        Preferences:
        - Transportation: No specific preference
        - Accommodation: Hotel
        - Food: Vegetarian
        - Places to visit: No specific preference
        - Activities: Hiking
        - Extra: No specific preference

        IMPORTANT: Please focus on finding recommendations specifically in hochiminh. All suggestions should be located in or near this destination.
        
        Please suggest:
        1. Suitable accommodations in hochiminh
        2. Interesting activities and places to visit in hochiminh
        3. Recommended restaurants and food options in hochiminh
        
        Consider:
        - The travel style and preferences
        - The season and weather conditions in hochiminh
        - The budget constraints
        - The duration of stay
        - The location and its unique offerings
        - All recommendations must be in hochiminh
        
2025-05-13 11:34:36,366 - src.agents.travel_agent - DEBUG - Sending request to OpenAI...
2025-05-13 11:34:37,891 - src.agents.travel_agent - INFO - OpenAI response: ChatCompletion(id='chatcmpl-BWbdclkLe1zwlgI51aghJyFpOjwbx', choices=[Choice(finish_reason='function_call', index=0, logprobs=None, message=ChatCompletionMessage(content=None, refusal=None, role='assistant', annotations=[], audio=None, function_call=FunctionCall(arguments='{"query_text":"hotel in Hochiminh suitable for family, mid budget, 2 adults and 1 child, summer travel","top_k":15}', name='query_hotels'), tool_calls=None))], created=1747110876, model='gpt-4.1-mini-2025-04-14', object='chat.completion', service_tier='default', system_fingerprint='fp_79b79be41f', usage=CompletionUsage(completion_tokens=43, prompt_tokens=1002, total_tokens=1045, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0)))
2025-05-13 11:34:37,892 - src.agents.travel_agent - INFO - Model response message: ChatCompletionMessage(content=None, refusal=None, role='assistant', annotations=[], audio=None, function_call=FunctionCall(arguments='{"query_text":"hotel in Hochiminh suitable for family, mid budget, 2 adults and 1 child, summer travel","top_k":15}', name='query_hotels'), tool_calls=None)
2025-05-13 11:34:37,892 - src.agents.travel_agent - INFO - Function call: query_hotels
2025-05-13 11:34:37,892 - src.agents.travel_agent - DEBUG - Function arguments: {'query_text': 'hotel in Hochiminh suitable for family, mid budget, 2 adults and 1 child, summer travel', 'top_k': 15}
2025-05-13 11:34:37,892 - src.agents.travel_agent - INFO - Querying all databases with context
2025-05-13 11:34:37,892 - src.agents.travel_agent - INFO - Querying hotels with context: hotel in Hochiminh suitable for family, mid budget, 2 adults and 1 child, summer travel
2025-05-13 11:34:37,892 - src.agents.travel_agent - INFO - top_k for query hotels is: 15
2025-05-13 11:34:37,892 - src.agents.travel_agent - INFO - filter for query hotels is: {'city': {'$eq': 'hochiminh'}}
2025-05-13 11:34:40,119 - src.agents.travel_agent - INFO - Added 15 hotel recommendations
2025-05-13 11:34:40,119 - src.agents.travel_agent - INFO - Querying places with context: hotel in Hochiminh suitable for family, mid budget, 2 adults and 1 child, summer travel
2025-05-13 11:34:40,119 - src.agents.travel_agent - INFO - top_k for query places is: 50
2025-05-13 11:34:40,119 - src.agents.travel_agent - INFO - filter for query places is: {'city': {'$eq': 'hochiminh'}}
2025-05-13 11:34:40,119 - src.agents.travel_agent - INFO - hochiminh)
2025-05-13 11:34:42,398 - src.agents.travel_agent - INFO - ids for query places is: ['place_013240', 'place_013252', 'place_013892', 'place_001445', 'place_015663', 'place_012842', 'place_015465', 'place_015616', 'place_013372', 'place_013938', 'place_004755', 'place_013381', 'place_013254', 'place_015494', 'place_013243', 'place_015811', 'place_013793', 'place_013202', 'place_013414', 'place_013228', 'place_013594', 'place_015719', 'place_012691', 'place_012696', 'place_013850', 'place_013564', 'place_013241', 'place_012814', 'place_013461', 'place_015630', 'place_001471', 'place_013592', 'place_013864', 'place_012925', 'place_013790', 'place_013231', 'place_013709', 'place_004185', 'place_013878', 'place_001616', 'place_013029', 'place_013633', 'place_015725', 'place_014065', 'place_015784', 'place_001507', 'place_015644', 'place_015635', 'place_004718', 'place_001543']
2025-05-13 11:34:42,398 - src.agents.travel_agent - INFO - place_ids: ['place_013240', 'place_013252', 'place_013892', 'place_001445', 'place_015663', 'place_012842', 'place_015465', 'place_015616', 'place_013372', 'place_013938', 'place_004755', 'place_013381', 'place_013254', 'place_015494', 'place_013243', 'place_015811', 'place_013793', 'place_013202', 'place_013414', 'place_013228', 'place_013594', 'place_015719', 'place_012691', 'place_012696', 'place_013850', 'place_013564', 'place_013241', 'place_012814', 'place_013461', 'place_015630', 'place_001471', 'place_013592', 'place_013864', 'place_012925', 'place_013790', 'place_013231', 'place_013709', 'place_004185', 'place_013878', 'place_001616', 'place_013029', 'place_013633', 'place_015725', 'place_014065', 'place_015784', 'place_001507', 'place_015644', 'place_015635', 'place_004718', 'place_001543']
2025-05-13 11:34:42,398 - src.agents.travel_agent - INFO - Added 50 place recommendations
2025-05-13 11:34:42,398 - src.agents.travel_agent - INFO - Querying restaurants with context: hotel in Hochiminh suitable for family, mid budget, 2 adults and 1 child, summer travel
2025-05-13 11:34:42,398 - src.agents.travel_agent - INFO - top_k for query fnb is: 50
2025-05-13 11:34:42,398 - src.agents.travel_agent - INFO - filter for query fnb is: {'city': {'$eq': 'hochiminh'}}
2025-05-13 11:34:44,953 - src.agents.travel_agent - INFO - Added 47 restaurant recommendations
2025-05-13 11:34:44,953 - src.agents.travel_agent - INFO - Final result distribution: 15 hotels, 50 places, 47 restaurants
2025-05-13 11:34:44,953 - src.services.suggest_api - INFO - Recommendation query processed successfully, got 112 items
2025-05-13 11:34:44,953 - src.services.suggest_api - INFO - Grouped recommendations: 15 accommodations, 50 places, 47 restaurants
2025-05-13 11:34:44,954 - src.services.suggest_api - INFO - Final response has 112 items
2025-05-13 11:34:45,080 - src.services.genrate_plan_api - INFO - Received raw trip plan request: dict_keys(['destination_id', 'accommodation', 'places', 'restaurants'])
2025-05-13 11:34:45,080 - src.services.genrate_plan_api - INFO - Extracted 15 accommodations, 50 places, and 47 restaurants
2025-05-13 11:34:45,080 - src.services.genrate_plan_api - INFO - Destination identified as: hochiminh
2025-05-13 11:34:45,080 - src.services.genrate_plan_api - INFO - Generating plan with destination: hochiminh
2025-05-13 11:36:27,109 - src.services.genrate_plan_api - INFO - Generated plan: {'trip_name': 'Trip to Hochiminh', 'start_date': '2025-05-13', 'end_date': '2025-05-15', 'user_id': 'user123', 'destination_id': 'hochiminh', 'plan_by_day': [{'date': '2025-05-13', 'day_title': 'Ng√†y 1: S√†i G√≤n nƒÉng ƒë·ªông r·ª±c r·ª°', 'segments': [{'time_of_day': 'morning', 'activities': [{'id': 'hotel_011054', 'type': 'accommodation', 'name': 'Scenic Valley 2 Near SECC, Cresent Mall', 'start_time': '08:00', 'end_time': '09:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c th∆∞ gi√£n t·∫°i kh√°ch s·∫°n hi·ªán ƒë·∫°i, view ƒë·∫πp trung t√¢m qu·∫≠n 7. üè®', 'location': 'S·ªë 801 Nguy·ªÖn VƒÉn Linh, P. T√¢n Ph√∫, Qu·∫≠n 7, TP.HCM', 'rating': 4.6, 'price': 1100000.0, 'image_url': '', 'booking_link': '', 'room_info': 'Ph√≤ng ti√™u chu·∫©n', 'tax_info': 'ƒê√£ bao g·ªìm thu·∫ø', 'elderly_friendly': True, 'url': ''}, {'id': 'place_004755', 'type': 'place', 'name': 'Eden Spa', 'start_time': '09:15', 'end_time': '10:30', 'description': 'Ch√∫ng ta s·∫Ω tr·∫£i nghi·ªám massage th∆∞ gi√£n, n·∫°p l·∫°i nƒÉng l∆∞·ª£ng cho ng√†y m·ªõi. üíÜ', 'address': '44 Nguy·ªÖn Duy Hi·ªáu, TP.HCM', 'categories': 'spa, relaxation', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.5, 'price': 350000.0, 'image_url': '', 'url': ''}, {'id': 'restaurant_014770', 'type': 'restaurant', 'name': 'LongBuri Cancook - G√¢n B√≤, Ch√¢n G√† S·ªët Th√°i', 'start_time': '10:45', 'end_time': '11:45', 'description': 'B·∫°n s·∫Ω th∆∞·ªüng th·ª©c c√°c m√≥n g√¢n b√≤, ch√¢n g√† s·ªët Th√°i l·∫° mi·ªáng c·ª±c ngon. üçó', 'address': '198 Nguy·ªÖn Tr√£i, Qu·∫≠n 1, TP.HCM', 'cuisines': 'm√≥n Th√°i, c√°c m√≥n nh·∫≠u', 'price_range': '100,000-300,000 VND', 'rating': 4.2, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}]}, {'time_of_day': 'afternoon', 'activities': [{'id': 'place_001543', 'type': 'place', 'name': 'Sky Tourist', 'start_time': '13:00', 'end_time': '14:15', 'description': 'Ch√∫ng ta s·∫Ω ng·∫Øm to√†n c·∫£nh th√†nh ph·ªë t·ª´ ƒë·ªô cao c·ª±c ch·∫•t, check-in tuy·ªát v·ªùi! üèôÔ∏è', 'address': '36 L√™ L·ª£i, Qu·∫≠n 1, TP.HCM', 'categories': 'ng·∫Øm c·∫£nh, gi·∫£i tr√≠', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.3, 'price': 150000.0, 'image_url': '', 'url': ''}, {'id': 'restaurant_014631', 'type': 'restaurant', 'name': 'Qu√°n C∆°m Bapy', 'start_time': '14:30', 'end_time': '15:30', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c th∆∞·ªüng th·ª©c c√°c m√≥n c∆°m Vi·ªát ngon, no b·ª•ng gi·ªØa th√†nh ph·ªë t·∫•p n·∫≠p. üçö', 'address': '325 Nguy·ªÖn Tr√£i, Qu·∫≠n 5, TP.HCM', 'cuisines': '·∫©m th·ª±c Vi·ªát', 'price_range': '100,000-300,000 VND', 'rating': 4.1, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'place_004718', 'type': 'place', 'name': 'Ria Spa - Massage Hochiminh', 'start_time': '15:45', 'end_time': '17:15', 'description': 'Ch√∫ng ta s·∫Ω ƒë∆∞·ª£c chƒÉm s√≥c da v√† th∆∞ gi√£n v·ªõi c√°c li·ªáu tr√¨nh ƒë·∫∑c bi·ªát. üåø', 'address': '19-21 ƒêinh Ti√™n Ho√†ng, Qu·∫≠n 1, TP.HCM', 'categories': 'spa, chƒÉm s√≥c s·ª©c kh·ªèe', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.4, 'price': 300000.0, 'image_url': '', 'url': ''}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_013028', 'type': 'restaurant', 'name': 'Happy - Steak & Chicken', 'start_time': '18:00', 'end_time': '19:15', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c th∆∞·ªüng th·ª©c b√≠t t·∫øt v√† g√† n∆∞·ªõng ngon chu·∫©n √Çu gi·ªØa S√†i G√≤n s√¥i ƒë·ªông. ü•©', 'address': '94A C·ªëng Qu·ª≥nh, Qu·∫≠n 1, TP.HCM', 'cuisines': 'b√≠t t·∫øt, g√† n∆∞·ªõng', 'price_range': '100,000-300,000 VND', 'rating': 4.3, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'restaurant_014136', 'type': 'restaurant', 'name': 'Kem B·∫°ch ƒê·∫±ng', 'start_time': '19:30', 'end_time': '20:00', 'description': 'Ch√∫ng ta c√πng th∆∞·ªüng th·ª©c kem B·∫°ch ƒê·∫±ng truy·ªÅn th·ªëng n·ªïi ti·∫øng. üç®', 'address': '26 L√™ L·ª£i, Qu·∫≠n 1, TP.HCM', 'cuisines': 'kem, tr√°ng mi·ªáng', 'price_range': '100,000-300,000 VND', 'rating': 4.0, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'restaurant_013537', 'type': 'restaurant', 'name': 'The Daymaker Coffee - Cao Th·∫Øng', 'start_time': '20:15', 'end_time': '21:00', 'description': 'B·∫°n s·∫Ω t·∫≠n h∆∞·ªüng kh√¥ng gian caf√© tr·∫ª trung, k·∫øt th√∫c ng√†y tuy·ªát v·ªùi. ‚òï', 'address': '62 Cao Th·∫Øng, Qu·∫≠n 3, TP.HCM', 'cuisines': 'c√† ph√™, ƒë·ªì u·ªëng', 'price_range': '100,000-300,000 VND', 'rating': 4.3, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}]}], 'daily_tips': ['- N√™n chu·∫©n b·ªã gi·∫•y t·ªù t√πy th√¢n khi tham quan C·ªß Chi', '- ƒêi ch·ª£ B·∫øn Th√†nh v√†o bu·ªïi t·ªëi ƒë·ªÉ mua s·∫Øm v·ªõi gi√° r·∫ª h∆°n', '- T·∫≠n h∆∞·ªüng ·∫©m th·ª±c ƒë∆∞·ªùng ph·ªë t·∫°i qu·∫≠n 1', '- Tham quan Nh√† th·ªù ƒê·ª©c B√† v√†o l√∫c ho√†ng h√¥n ƒë·ªÉ c·∫£m nh·∫≠n kh√¥ng gian y√™n b√¨nh', '- Gh√© C√¥ng vi√™n 30/4 v√†o bu·ªïi s√°ng ƒë·ªÉ t·∫≠n h∆∞·ªüng kh√¥ng kh√≠ trong l√†nh', '- C·∫©n th·∫≠n v·ªõi c√°c v·ª• m·∫•t c·∫Øp khi ƒëi tham quan ·ªü ph·ªë c·ªï H·ªôi An']}, {'date': '2025-05-14', 'day_title': 'Ng√†y 2: S√¥i ƒë·ªông ph·ªë ph∆∞∆°ng Nam', 'segments': [{'time_of_day': 'morning', 'activities': [{'id': 'place_015616', 'type': 'place', 'name': 'City Half Day by car', 'start_time': '08:00', 'end_time': '09:40', 'description': 'Ch√∫ng ta s·∫Ω tham quan th√†nh ph·ªë s√¥i ƒë·ªông tr√™n xe h∆°i, ng·∫Øm c·∫£nh ƒë√¥ th·ªã r·ª±c r·ª° üöó.', 'address': 'Qu·∫≠n 1, TP.HCM', 'categories': 'city tour', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.6, 'price': 320000.0, 'image_url': 'https://static.example.com/tour_car.jpg', 'url': 'https://hochi.minh/city-half-day-by-car'}, {'id': 'restaurant_013428', 'type': 'restaurant', 'name': 'B√°nh M√¨ Heo Quay A Nhi·ªÅu - Ph·∫°m H√πng', 'start_time': '09:40', 'end_time': '10:15', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c n·∫øm b√°nh m√¨ heo quay gi√≤n th∆°m, chu·∫©n v·ªã S√†i G√≤n ü•ñ.', 'address': '402 Ph·∫°m H√πng, B√¨nh Ch√°nh, TP.HCM', 'cuisines': 'B√°nh m√¨, ƒê·∫∑c s·∫£n', 'price_range': '100,000-300,000 VND', 'rating': 4.4, 'phone': '0933 348 673', 'services': ['ƒë·∫∑t b√†n'], 'image_url': 'https://static.example.com/banhmi.jpg', 'url': 'https://banhmi-phanhung.nhi'}, {'id': 'place_015719', 'type': 'place', 'name': 'Small Group Cu Chi Tunnels Half Day', 'start_time': '10:15', 'end_time': '12:00', 'description': 'Kh√°m ph√° ƒë∆∞·ªùng h·∫ßm huy·ªÅn tho·∫°i, tr·∫£i nghi·ªám c·∫£m gi√°c l·ªãch s·ª≠ s√¢u s·∫Øc üî¶.', 'address': 'T·ªânh l·ªô 15, C·ªß Chi, TP.HCM', 'categories': 'history, adventure', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.7, 'price': 400000.0, 'image_url': 'https://static.example.com/cu-chi-tunnel.jpg', 'url': 'https://hochiminh/cuchi-halfday'}]}, {'time_of_day': 'afternoon', 'activities': [{'id': 'place_013372', 'type': 'place', 'name': 'Small-group 2-Day Mekong Delta: Floating market, Cooking Class...', 'start_time': '13:30', 'end_time': '15:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c ghe xu·ªìng kh√°m ph√° ch·ª£ n·ªïi, th·ª≠ l·ªõp h·ªçc n·∫•u ƒÉn truy·ªÅn th·ªëng üõ∂.', 'address': 'Mekong Delta', 'categories': 'culture, floating market', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.8, 'price': 1350000.0, 'image_url': 'https://static.example.com/mekong-market.jpg', 'url': 'https://tourmekong.vn'}, {'id': 'restaurant_014680', 'type': 'restaurant', 'name': 'Daruma Sushi - Th·∫°nh L·ªôc 16', 'start_time': '15:00', 'end_time': '16:00', 'description': 'Th∆∞·ªüng th·ª©c sushi t∆∞∆°i ngon gi·ªØa l√≤ng S√†i G√≤n üç£.', 'address': '18 Th·∫°nh L·ªôc 16, Qu·∫≠n 12, TP.HCM', 'cuisines': 'Sushi, Nh·∫≠t', 'price_range': '100,000-300,000 VND', 'rating': 4.3, 'phone': '0932 144 246', 'services': ['ƒë·∫∑t b√†n'], 'image_url': 'https://static.example.com/daruma.jpg', 'url': 'https://daruma-sushi.vn'}, {'id': 'place_012814', 'type': 'place', 'name': 'Mekong Delta Day Trip: Explore Cycling & Cooking Classes at Farm', 'start_time': '16:10', 'end_time': '17:30', 'description': 'Ch√∫ng ta s·∫Ω ƒë·∫°p xe gi·ªØa ru·ªông ƒë·ªìng v√† h·ªçc n·∫•u ƒÉn v·ªõi ng∆∞·ªùi b·∫£n ƒë·ªãa üö≤.', 'address': 'Mekong Delta', 'categories': 'cycling, cooking', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.7, 'price': 650000.0, 'image_url': 'https://static.example.com/mekong-farm.jpg', 'url': 'https://mekongcycling.vn'}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_013335', 'type': 'restaurant', 'name': 'B√† L√¢m - Ch√°o V·ªãt & G·ªèi', 'start_time': '18:30', 'end_time': '19:30', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c th∆∞·ªüng th·ª©c ch√°o v·ªãt n√≥ng h·ªïi ƒë·∫∑c tr∆∞ng mi·ªÅn Nam üç≤.', 'address': '73/1A, Phan ƒêƒÉng L∆∞u, Qu·∫≠n B√¨nh Th·∫°nh, TP.HCM', 'cuisines': 'Ch√°o v·ªãt, m√≥n Vi·ªát', 'price_range': '100,000-300,000 VND', 'rating': 4.5, 'phone': '0977 325 473', 'services': ['ƒë·∫∑t b√†n'], 'image_url': 'https://static.example.com/chaovit.jpg', 'url': 'https://chaovitbalam.vn'}, {'id': 'restaurant_014109', 'type': 'restaurant', 'name': 'Tr√† S·ªØa Nghi·ªán - Shop Online - C·∫ßu X√©o', 'start_time': '19:30', 'end_time': '20:00', 'description': 'Th∆∞·ªüng th·ª©c tr√† s·ªØa th∆°m m√°t, b√©o ng·∫≠y chu·∫©n S√†i G√≤n üßã.', 'address': '26 C·∫ßu X√©o, T√¢n Ph√∫, TP.HCM', 'cuisines': 'Tr√† s·ªØa, ƒë·ªì u·ªëng', 'price_range': '100,000-300,000 VND', 'rating': 4.2, 'phone': '0987 897 645', 'services': ['ƒë·∫∑t b√†n'], 'image_url': 'https://static.example.com/trasua.jpg', 'url': 'https://trasuannghien.vn'}, {'id': 'place_013892', 'type': 'place', 'name': 'Vietnam Family Fun In 9 Days - Departure From Ho Chi Minh', 'start_time': '20:10', 'end_time': '21:30', 'description': 'Kh√°m ph√° tr√≤ ch∆°i d√¢n gian vui nh·ªôn c√πng gia ƒë√¨nh t·∫°i trung t√¢m S√†i G√≤n üéâ.', 'address': 'Qu·∫≠n 1, TP.HCM', 'categories': 'familiy, culture', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.6, 'price': 850000.0, 'image_url': 'https://static.example.com/familyfun.jpg', 'url': 'https://vietnamfamilyfun.vn'}]}], 'daily_tips': ['N√™n b·∫Øt ƒë·∫ßu s·ªõm ƒë·ªÉ tr√°nh n√≥ng v√† ƒë√¥ng ƒë√∫c.', 'T√¥n tr·ªçng vƒÉn h√≥a ƒë·ªãa ph∆∞∆°ng.', 'ƒê·∫∑t d·ªãch v·ª• tr∆∞·ªõc ƒë·ªÉ tr√°nh h·∫øt ch·ªó.', 'C·∫©n th·∫≠n v·ªõi vi·ªác m·∫•t c·∫Øp.']}, {'date': '2025-05-15', 'day_title': 'Ng√†y 3: ƒê·∫Øm m√¨nh h∆∞∆°ng v·ªã S√†i G√≤n m·ªõi l·∫°', 'segments': [{'time_of_day': 'morning', 'activities': [{'id': 'place_013252', 'type': 'place', 'name': 'Must-see: A day to Cuchi Tunnels & Mekong Delta', 'start_time': '08:00', 'end_time': '09:30', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c len l·ªèi qua ƒë·ªãa ƒë·∫°o C·ªß Chi, kh√°m ph√° b√≠ m·∫≠t d∆∞·ªõi l√≤ng ƒë·∫•t.üï≥Ô∏è', 'address': 'C·ªß Chi, TP.HCM', 'categories': 'exploration,history', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.7, 'price': 320000.0, 'image_url': '', 'url': ''}, {'id': 'restaurant_013889', 'type': 'restaurant', 'name': 'G·ªèi Cu·ªën T√¥m Nh·∫£y', 'start_time': '09:50', 'end_time': '10:30', 'description': 'Ch√∫ng ta s·∫Ω th∆∞·ªüng th·ª©c g·ªèi cu·ªën t∆∞∆°i ngon, ƒë·∫≠m ch·∫•t mi·ªÅn Nam! ü•¢', 'address': '67/1B Nguy·ªÖn Th√¥ng, Q.3', 'cuisines': 'M√≥n Vi·ªát, G·ªèi cu·ªën', 'price_range': '100,000-300,000 VND', 'rating': 4.2, 'phone': '0928289955', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'place_001445', 'type': 'place', 'name': 'Hot Sulphur Springs Resort & Spa', 'start_time': '10:40', 'end_time': '11:50', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c th∆∞ gi√£n trong su·ªëi n∆∞·ªõc n√≥ng v√† t·∫≠n h∆∞·ªüng d·ªãch v·ª• spa ƒë·∫≥ng c·∫•p.üíß', 'address': 'Ph∆∞·ªõc Ki·ªÉn, Nh√† B√®, TP.HCM', 'categories': 'spa,relaxation', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.6, 'price': 150000.0, 'image_url': '', 'url': ''}]}, {'time_of_day': 'afternoon', 'activities': [{'id': 'place_013793', 'type': 'place', 'name': 'Essential Mekong Delta 2 days,1Night', 'start_time': '13:00', 'end_time': '14:15', 'description': 'B·∫°n s·∫Ω l√™n thuy·ªÅn kh√°m ph√° s√¥ng n∆∞·ªõc C·ª≠u Long ƒë·ªôc ƒë√°o.‚õµ', 'address': 'Mekong Delta, TP.HCM', 'categories': 'river,local life', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.8, 'price': 490000.0, 'image_url': '', 'url': ''}, {'id': 'restaurant_012971', 'type': 'restaurant', 'name': 'G√† R√°n & Burger Lotteria - V√†nh ƒêai Trong', 'start_time': '14:30', 'end_time': '15:10', 'description': 'C√πng th∆∞·ªüng th·ª©c v·ªã g√† r√°n gi√≤n r·ª•m n·ªïi ti·∫øng. üçó', 'address': '34 ƒê∆∞·ªùng V√†nh ƒêai Trong, Q.B√¨nh T√¢n', 'cuisines': 'G√† r√°n, ƒê·ªì ƒÉn nhanh', 'price_range': '100,000-300,000 VND', 'rating': 4.0, 'phone': '02839393939', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'place_013850', 'type': 'place', 'name': 'Private Ho Chi Minh City Tour Half-day by Car', 'start_time': '15:20', 'end_time': '16:30', 'description': 'Ch√∫ng ta s·∫Ω vi vu tham quan th√†nh ph·ªë b·∫±ng xe ri√™ng si√™u th√∫ v·ªã! üöó', 'address': 'TP.HCM', 'categories': 'city tour,private', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.7, 'price': 550000.0, 'image_url': '', 'url': ''}, {'id': 'restaurant_013263', 'type': 'restaurant', 'name': '33MAMA - Pizza & G√† R√°n - ·∫§p ƒê√¨nh', 'start_time': '16:40', 'end_time': '17:20', 'description': 'Gh√© 33MAMA th∆∞·ªüng th·ª©c pizza n√≥ng h·ªïi & g√† r√°n th∆°m ph·ª©c. üçï', 'address': '123 ·∫§p ƒê√¨nh, Q.12', 'cuisines': 'Pizza, G√† r√°n', 'price_range': '100,000-300,000 VND', 'rating': 4.3, 'phone': '0912334567', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_014360', 'type': 'restaurant', 'name': 'Lu Hotdog - Hotdog & Hamburger - Phan ƒêƒÉng L∆∞u', 'start_time': '18:10', 'end_time': '18:50', 'description': 'B·∫°n s·∫Ω th∆∞·ªüng th·ª©c hotdog th∆°m l·ª´ng gi·ªØa l√≤ng th√†nh ph·ªë.üå≠', 'address': '11 Phan ƒêƒÉng L∆∞u, Q.B√¨nh Th·∫°nh', 'cuisines': 'Hotdog, Hamburger', 'price_range': '100,000-300,000 VND', 'rating': 4.1, 'phone': '0937889555', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'place_012696', 'type': 'place', 'name': 'Ho Chi Minh City Private Half-Day Tour by U.S Army Jeep', 'start_time': '19:10', 'end_time': '20:30', 'description': 'Ch√∫ng ta s·∫Ω kh√°m ph√° S√†i G√≤n ƒë√™m ƒë·ªôc ƒë√°o tr√™n chi·∫øc xe Jeep c·ªï!üöô', 'address': 'TP.HCM', 'categories': 'night tour,adventure', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.9, 'price': 680000.0, 'image_url': '', 'url': ''}, {'id': 'restaurant_014285', 'type': 'restaurant', 'name': 'Ph·ªü 24 - Grand View', 'start_time': '20:40', 'end_time': '21:30', 'description': 'Th∆∞·ªüng th·ª©c ph·ªü Vi·ªát chu·∫©n v·ªã trong kh√¥ng gian sang tr·ªçng.üçú', 'address': '24 ƒê·ªìng Kh·ªüi, Q.1', 'cuisines': 'Ph·ªü, ƒê·∫∑c s·∫£n Vi·ªát', 'price_range': '100,000-300,000 VND', 'rating': 4.4, 'phone': '02839252525', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}]}], 'daily_tips': ['- N√™n b·∫Øt ƒë·∫ßu s·ªõm t·ª´ 6-8h s√°ng ƒë·ªÉ tr√°nh n√≥ng v√† ƒë√¥ng ƒë√∫c.', '- N·∫øu ƒë·∫øn **Ch·ª£ B·∫øn Th√†nh**, h√£y th·ª≠ nh·ªØng m√≥n ƒÉn ƒë∆∞·ªùng ph·ªë ngon l√†nh.', '- ƒê·ªÉ di chuy·ªÉn thu·∫≠n ti·ªán, n√™n s·ª≠ d·ª•ng Grab ho·∫∑c taxi ch√≠nh h√£ng.', '- ƒê·∫∑t th·ªùi gian thƒÉm **B·∫£o T√†ng Ch·ª©ng T√≠ch Chi·∫øn Tranh** ƒë·ªÉ hi·ªÉu r√µ h∆°n v·ªÅ l·ªãch s·ª≠ Vi·ªát Nam.', '- ƒê·∫øn **Nh√† Th·ªù ƒê·ª©c B√†** v√†o bu·ªïi s√°ng ƒë·ªÉ c√≥ kh√¥ng gian y√™n tƒ©nh v√† tho√°ng ƒë√£ng.', '- N·∫øu c√≥ th·ªùi gian, h√£y gh√© qua **Lotte Mart** ƒë·ªÉ mua s·∫Øm ƒë·∫∑c s·∫£n v√πng mi·ªÅn.']}]}
2025-05-13 11:36:27,112 - src.services.genrate_plan_api - INFO - Trip plan request processed successfully
2025-05-13 18:05:53,353 - src.services.suggest_api - INFO - Processing recommendation query for hanoi
2025-05-13 18:05:53,396 - src.agents.travel_agent - INFO - Setting up all databases...
2025-05-13 18:05:56,140 - src.agents.travel_agent - INFO - All databases setup completed
2025-05-13 18:05:56,140 - src.agents.travel_agent - INFO - Processing query: 
        Planning a trip to hanoi with the following details:
        - Group: 2 adults, 1 children, 0 infants
        - Budget: mid (approx. 10000000 VND)
        - Duration: 10 days
        - Season: summer
        - Travel Style: family
        
        Preferences:
        - Transportation: No specific preference
        - Accommodation: No specific preference
        - Food: No specific preference
        - Places to visit: ƒê·ªãa ƒëi·ªÉm √≠t ng∆∞·ªùi bi·∫øt t·ªõi, Di t√≠ch l·ªãch s·ª≠, C·∫£nh quan thi√™n nhi√™n
        - Activities: No specific preference
        - Extra: No specific preference

        IMPORTANT: Please focus on finding recommendations specifically in hanoi. All suggestions should be located in or near this destination.
        
        Please suggest:
        1. Suitable accommodations in hanoi
        2. Interesting activities and places to visit in hanoi
        3. Recommended restaurants and food options in hanoi
        
        Consider:
        - The travel style and preferences
        - The season and weather conditions in hanoi
        - The budget constraints
        - The duration of stay
        - The location and its unique offerings
        - All recommendations must be in hanoi
        
2025-05-13 18:05:56,141 - src.agents.travel_agent - DEBUG - Sending request to OpenAI...
2025-05-13 18:05:57,871 - src.agents.travel_agent - INFO - OpenAI response: ChatCompletion(id='chatcmpl-BWhkK6MEJKp5eowAk7m9oan5OXZzN', choices=[Choice(finish_reason='function_call', index=0, logprobs=None, message=ChatCompletionMessage(content=None, refusal=None, role='assistant', annotations=[], audio=None, function_call=FunctionCall(arguments='{"query_text":"hotel in Hanoi suitable for family with mid budget around 10000000 VND","top_k":15}', name='query_hotels'), tool_calls=None))], created=1747134356, model='gpt-4.1-mini-2025-04-14', object='chat.completion', service_tier='default', system_fingerprint='fp_79b79be41f', usage=CompletionUsage(completion_tokens=37, prompt_tokens=1016, total_tokens=1053, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=0, audio_tokens=0, reasoning_tokens=0, rejected_prediction_tokens=0), prompt_tokens_details=PromptTokensDetails(audio_tokens=0, cached_tokens=0)))
2025-05-13 18:05:57,871 - src.agents.travel_agent - INFO - Model response message: ChatCompletionMessage(content=None, refusal=None, role='assistant', annotations=[], audio=None, function_call=FunctionCall(arguments='{"query_text":"hotel in Hanoi suitable for family with mid budget around 10000000 VND","top_k":15}', name='query_hotels'), tool_calls=None)
2025-05-13 18:05:57,874 - src.agents.travel_agent - INFO - Function call: query_hotels
2025-05-13 18:05:57,874 - src.agents.travel_agent - DEBUG - Function arguments: {'query_text': 'hotel in Hanoi suitable for family with mid budget around 10000000 VND', 'top_k': 15}
2025-05-13 18:05:57,874 - src.agents.travel_agent - INFO - Querying all databases with context
2025-05-13 18:05:57,874 - src.agents.travel_agent - INFO - Querying hotels with context: hotel in Hanoi suitable for family with mid budget around 10000000 VND
2025-05-13 18:05:57,874 - src.agents.travel_agent - INFO - top_k for query hotels is: 15
2025-05-13 18:05:57,874 - src.agents.travel_agent - INFO - filter for query hotels is: {'city': {'$eq': 'hanoi'}}
2025-05-13 18:06:00,907 - src.agents.travel_agent - INFO - Added 15 hotel recommendations
2025-05-13 18:06:00,907 - src.agents.travel_agent - INFO - Querying places with context: hotel in Hanoi suitable for family with mid budget around 10000000 VND
2025-05-13 18:06:00,908 - src.agents.travel_agent - INFO - top_k for query places is: 50
2025-05-13 18:06:00,908 - src.agents.travel_agent - INFO - filter for query places is: {'city': {'$eq': 'hanoi'}}
2025-05-13 18:06:00,908 - src.agents.travel_agent - INFO - hanoi)
2025-05-13 18:06:04,187 - src.agents.travel_agent - INFO - ids for query places is: ['place_000345', 'place_000117', 'place_000543', 'place_000416', 'place_000010', 'place_000583', 'place_000382', 'place_000384', 'place_000126', 'place_000068', 'place_000226', 'place_000617', 'place_000620', 'place_000409', 'place_000302', 'place_000342', 'place_000341', 'place_000438', 'place_000262', 'place_000220', 'place_000069', 'place_000204', 'place_000457', 'place_000946', 'place_000122', 'place_000007', 'place_000109', 'place_000125', 'place_000308', 'place_000267', 'place_000532', 'place_000171', 'place_000149', 'place_000387', 'place_000061', 'place_000148', 'place_000251', 'place_000300', 'place_000924', 'place_000614', 'place_000155', 'place_000538', 'place_000615', 'place_000205', 'place_000250', 'place_000534', 'place_000022', 'place_000338', 'place_000166', 'place_000053']
2025-05-13 18:06:04,188 - src.agents.travel_agent - INFO - place_ids: ['place_000345', 'place_000117', 'place_000543', 'place_000416', 'place_000010', 'place_000583', 'place_000382', 'place_000384', 'place_000126', 'place_000068', 'place_000226', 'place_000617', 'place_000620', 'place_000409', 'place_000302', 'place_000342', 'place_000341', 'place_000438', 'place_000262', 'place_000220', 'place_000069', 'place_000204', 'place_000457', 'place_000946', 'place_000122', 'place_000007', 'place_000109', 'place_000125', 'place_000308', 'place_000267', 'place_000532', 'place_000171', 'place_000149', 'place_000387', 'place_000061', 'place_000148', 'place_000251', 'place_000300', 'place_000924', 'place_000614', 'place_000155', 'place_000538', 'place_000615', 'place_000205', 'place_000250', 'place_000534', 'place_000022', 'place_000338', 'place_000166', 'place_000053']
2025-05-13 18:06:04,188 - src.agents.travel_agent - INFO - Added 50 place recommendations
2025-05-13 18:06:04,188 - src.agents.travel_agent - INFO - Querying restaurants with context: hotel in Hanoi suitable for family with mid budget around 10000000 VND
2025-05-13 18:06:04,188 - src.agents.travel_agent - INFO - top_k for query fnb is: 50
2025-05-13 18:06:04,188 - src.agents.travel_agent - INFO - filter for query fnb is: {'city': {'$eq': 'hanoi'}}
2025-05-13 18:06:07,682 - src.agents.travel_agent - INFO - Added 50 restaurant recommendations
2025-05-13 18:06:07,682 - src.agents.travel_agent - INFO - Final result distribution: 15 hotels, 50 places, 50 restaurants
2025-05-13 18:06:07,682 - src.services.suggest_api - INFO - Recommendation query processed successfully, got 115 items
2025-05-13 18:06:07,682 - src.services.suggest_api - INFO - Grouped recommendations: 15 accommodations, 50 places, 50 restaurants
2025-05-13 18:06:07,682 - src.services.suggest_api - INFO - Final response has 115 items
2025-05-13 18:06:07,870 - src.services.genrate_plan_api - INFO - Received raw trip plan request: dict_keys(['destination_id', 'accommodation', 'places', 'restaurants'])
2025-05-13 18:06:07,870 - src.services.genrate_plan_api - INFO - Extracted 15 accommodations, 50 places, and 50 restaurants
2025-05-13 18:06:07,870 - src.services.genrate_plan_api - INFO - Destination identified as: hanoi
2025-05-13 18:06:07,870 - src.services.genrate_plan_api - INFO - Generating plan with destination: hanoi
2025-05-13 18:08:04,691 - src.services.genrate_plan_api - INFO - Generated plan: {'trip_name': 'Trip to Hanoi', 'start_date': '2025-05-13', 'end_date': '2025-05-15', 'user_id': 'user123', 'destination_id': 'hanoi', 'plan_by_day': [{'date': '2025-05-13', 'day_title': 'Ng√†y 1: Ch·∫°m ng√µ H√† N·ªôi r·ª±c r·ª°', 'segments': [{'time_of_day': 'morning', 'activities': [{'id': 'hotel_007698', 'type': 'accommodation', 'name': 'Luxury Hanoi Hotel', 'start_time': '08:00', 'end_time': '10:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c ngh·ªâ ng∆°i trong ph√≤ng sang tr·ªçng. üè®', 'location': 'H√† N·ªôi', 'rating': 4.7, 'price': 950000.0, 'image_url': '', 'booking_link': '', 'room_info': 'Ph√≤ng ti√™u chu·∫©n', 'tax_info': 'ƒê√£ bao g·ªìm thu·∫ø', 'elderly_friendly': True, 'url': ''}, {'id': 'place_000384', 'type': 'place', 'name': 'HOTEL de LAGOM', 'start_time': '10:15', 'end_time': '11:00', 'description': 'Ch√∫ng ta s·∫Ω check-in g√≥c s·ªëng ·∫£o c·ª±c chill. üì∏', 'address': 'S·ªë 6 Th√†nh C√¥ng, Ba ƒê√¨nh, H√† N·ªôi', 'categories': 'ch·ª•p ·∫£nh', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.3, 'price': 0, 'image_url': '', 'url': ''}, {'id': 'place_000126', 'type': 'place', 'name': 'Ha Noi Spa Nails and Body Treatment', 'start_time': '11:10', 'end_time': '12:00', 'description': 'Tr·∫£i nghi·ªám massage th∆∞ gi√£n ƒë√∫ng ch·∫•t H√† N·ªôi. üíÜ\u200d‚ôÇÔ∏è', 'address': '17 Phan ƒê√¨nh Ph√πng, Ba ƒê√¨nh, H√† N·ªôi', 'categories': 'spa', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.5, 'price': 400000.0, 'image_url': '', 'url': ''}]}, {'time_of_day': 'afternoon', 'activities': [{'id': 'place_000220', 'type': 'place', 'name': 'Vietnam Asian Indoor Game Stadium', 'start_time': '13:00', 'end_time': '14:10', 'description': 'Kh√°m ph√° kh√¥ng gian th·ªÉ thao hi·ªán ƒë·∫°i, tr·∫ª trung. üèüÔ∏è', 'address': 'Nam T·ª´ Li√™m, H√† N·ªôi', 'categories': 'th·ªÉ thao', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.2, 'price': 30000.0, 'image_url': '', 'url': ''}, {'id': 'place_000132', 'type': 'place', 'name': 'Green Pool', 'start_time': '14:20', 'end_time': '15:20', 'description': 'B·∫°n s·∫Ω th∆∞ gi√£n b√™n b·ªÉ b∆°i xanh m√°t. üèä\u200d‚ôÄÔ∏è', 'address': '69 Ph·∫°m H√πng, H√† N·ªôi', 'categories': 'gi·∫£i tr√≠', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.4, 'price': 100000.0, 'image_url': '', 'url': ''}, {'id': 'place_000438', 'type': 'place', 'name': 'Doai Tour And Homestay', 'start_time': '15:30', 'end_time': '16:30', 'description': 'T√¨m hi·ªÉu n√©t ƒë·ªùi th∆∞·ªùng H√† N·ªôi t·∫°i homestay ƒë·ªôc ƒë√°o. üè°', 'address': 'S·ªë 18, Ph·∫°m Ng·ªçc Th·∫°ch, ƒê·ªëng ƒêa', 'categories': 'tr·∫£i nghi·ªám', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.6, 'price': 200000.0, 'image_url': '', 'url': ''}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_000208', 'type': 'restaurant', 'name': 'Ng√¢n ƒê√¨nh Hanoi Restaurant', 'start_time': '17:30', 'end_time': '19:00', 'description': 'Th∆∞·ªüng th·ª©c ·∫©m th·ª±c Vi·ªát trong kh√¥ng gian ·∫•m √°p. üçΩÔ∏è', 'address': '1 L√™ Th√°nh T√¥ng, Ho√†n Ki·∫øm', 'cuisines': 'Vi·ªát Nam, truy·ªÅn th·ªëng', 'price_range': '100,000-300,000 VND', 'rating': 4.6, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'place_000341', 'type': 'place', 'name': 'La Spa Xin Chao', 'start_time': '19:10', 'end_time': '20:00', 'description': 'Ch√∫ng ta s·∫Ω th∆∞ gi√£n v√† l√†m ƒë·∫πp. ‚ú®', 'address': '16 L√Ω Qu·ªëc S∆∞, Ho√†n Ki·∫øm', 'categories': 'spa', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.7, 'price': 350000.0, 'image_url': '', 'url': ''}, {'id': 'restaurant_000557', 'type': 'restaurant', 'name': 'The Hanoi Cafe', 'start_time': '20:05', 'end_time': '21:00', 'description': 'B·∫°n s·∫Ω th∆∞·ªüng th·ª©c c√† ph√™ H√† N·ªôi ch√≠nh hi·ªáu. ‚òï', 'address': '47 L√£n √îng, Ho√†n Ki·∫øm', 'cuisines': 'cafe, n∆∞·ªõc u·ªëng', 'price_range': '100,000-300,000 VND', 'rating': 4.8, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}]}], 'daily_tips': ['- N√™n chu·∫©n b·ªã ƒë·ªß ti·ªÅn m·∫∑t khi ƒëi thƒÉm VƒÉn Mi·∫øu - Qu·ªëc T·ª≠ Gi√°m.', '- ƒê·∫∑t v√© tr∆∞·ªõc khi ƒëi tham quan H·ªì G∆∞∆°m.', '- M·∫∑c ƒë·∫πp khi b·∫°n gh√© thƒÉm Ch·ª£ ƒê·ªìng Xu√¢n.', '- Lu√¥n mang theo n∆∞·ªõc u·ªëng khi b·∫°n t·ªõi Ch·ª£ H√¥m.', '- Th·ª≠ c√°c m√≥n ƒÉn ƒë∆∞·ªùng ph·ªë khi thƒÉm Khu ph·ªë c·ªï H√† N·ªôi.', '- Th·∫≠n tr·ªçng v·ªõi ƒë·ªì ƒÉn ƒë∆∞·ªùng ph·ªë ƒë·ªÉ tr√°nh t√¨nh tr·∫°ng d·∫° d√†y kh√¥ng h√†i l√≤ng.', '- Chu·∫©n b·ªã ƒë·ªß th·ªùi gian ƒë·ªÉ thƒÉm B·∫£o t√†ng H·ªèa L√≤.', '- ƒêi b·ªô ho·∫∑c thu√™ xe ƒë·∫°p ƒë·ªÉ kh√°m ph√° H·ªì Ho√†n Ki·∫øm.']}, {'date': '2025-05-14', 'day_title': 'Ng√†y 2: NƒÉng ƒë·ªông gi·ªØa l√≤ng H√† N·ªôi', 'segments': [{'time_of_day': 'morning', 'activities': [{'id': 'place_000345', 'type': 'place', 'name': 'Ride for student', 'start_time': '08:00', 'end_time': '09:30', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c tham gia tr·∫£i nghi·ªám xe m√°y ƒë·ªôc ƒë√°o quanh ph·ªë c·ªï üõµ.', 'address': 'Ho√†n Ki·∫øm, H√† N·ªôi', 'categories': 'ho·∫°t ƒë·ªông tr·∫£i nghi·ªám', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.6, 'price': 120000.0, 'image_url': '', 'url': ''}, {'id': 'place_000068', 'type': 'place', 'name': 'Green Pool', 'start_time': '09:45', 'end_time': '10:45', 'description': 'Ch√∫ng ta s·∫Ω th∆∞ gi√£n t·∫°i b·ªÉ b∆°i xanh m√°t, t·∫≠n h∆∞·ªüng kh√¥ng kh√≠ y√™n b√¨nh üèä.', 'address': 'Ba ƒê√¨nh, H√† N·ªôi', 'categories': 'gi·∫£i tr√≠', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.4, 'price': 70000.0, 'image_url': '', 'url': ''}, {'id': 'place_000109', 'type': 'place', 'name': 'Expertvietnamtravel', 'start_time': '11:00', 'end_time': '12:00', 'description': 'C√πng tham kh·∫£o th√¥ng tin tour du l·ªãch m·ªõi l·∫° c·ªßa H√† N·ªôi üìö.', 'address': 'Ho√†n Ki·∫øm, H√† N·ªôi', 'categories': 'th√¥ng tin du l·ªãch', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.5, 'price': 0, 'image_url': '', 'url': ''}]}, {'time_of_day': 'afternoon', 'activities': [{'id': 'restaurant_000160', 'type': 'restaurant', 'name': 'Little Vietnam', 'start_time': '12:30', 'end_time': '14:00', 'description': 'Ch√∫ng ta s·∫Ω th∆∞·ªüng th·ª©c m√≥n Vi·ªát Nam truy·ªÅn th·ªëng ƒë·∫≠m ch·∫•t H√† th√†nh üç≤.', 'address': 'Ho√†n Ki·∫øm, H√† N·ªôi', 'cuisines': '·∫®m th·ª±c truy·ªÅn th·ªëng', 'price_range': '100,000-300,000 VND', 'rating': 4.7, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'place_000382', 'type': 'place', 'name': 'Jin Tran', 'start_time': '14:15', 'end_time': '15:15', 'description': 'Kh√°m ph√° studio ngh·ªá thu·∫≠t v√† tr·∫£i nghi·ªám l√†m ƒë·ªì th·ªß c√¥ng th√∫ v·ªã üé®.', 'address': 'Ba ƒê√¨nh, H√† N·ªôi', 'categories': 'tr·∫£i nghi·ªám ngh·ªá thu·∫≠t', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.4, 'price': 100000.0, 'image_url': '', 'url': ''}, {'id': 'place_000122', 'type': 'place', 'name': 'Vitamin Travel', 'start_time': '15:30', 'end_time': '16:30', 'description': 'H√£y c√πng nghe t∆∞ v·∫•n cho c√°c chuy·∫øn du l·ªãch xanh b·ªÅn v·ªØng t·∫°i H√† N·ªôi üå±.', 'address': 'C·∫ßu Gi·∫•y, H√† N·ªôi', 'categories': 'du l·ªãch sinh th√°i', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.3, 'price': 0, 'image_url': '', 'url': ''}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_000498', 'type': 'restaurant', 'name': 'Vi Hanoi Restaurant & Cafe', 'start_time': '17:30', 'end_time': '19:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c th∆∞·ªüng th·ª©c b·ªØa t·ªëi ·∫•m c√∫ng gi·ªØa kh√¥ng gian H√† N·ªôi c·ªï k√≠nh üçΩÔ∏è.', 'address': 'ƒê·ªëng ƒêa, H√† N·ªôi', 'cuisines': 'Vi·ªát Nam, c√† ph√™', 'price_range': '100,000-300,000 VND', 'rating': 4.5, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'place_000946', 'type': 'place', 'name': 'Hanoi Travel Vietnam', 'start_time': '19:15', 'end_time': '20:00', 'description': 'Kh√°m ph√° c√°c ch∆∞∆°ng tr√¨nh tr·∫£i nghi·ªám ƒë√™m r·∫•t ri√™ng c·ªßa H√† N·ªôi üåô.', 'address': 'Ho√†n Ki·∫øm, H√† N·ªôi', 'categories': 'tr·∫£i nghi·ªám ƒë√™m', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.6, 'price': 0, 'image_url': '', 'url': ''}, {'id': 'restaurant_000103', 'type': 'restaurant', 'name': 'Lamai Garden', 'start_time': '20:15', 'end_time': '21:30', 'description': 'Ch√∫ng ta s·∫Ω c√πng th∆∞ gi√£n v·ªõi ƒë·ªì u·ªëng v√† b√°nh ng·ªçt trong khu v∆∞·ªùn nh·ªè üå∫.', 'address': 'T√¢y H·ªì, H√† N·ªôi', 'cuisines': 'ƒê·ªì ng·ªçt, ƒë·ªì u·ªëng', 'price_range': '100,000-300,000 VND', 'rating': 4.3, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}]}], 'daily_tips': ['- B·∫Øt ƒë·∫ßu thƒÉm H√† N·ªôi s·ªõm t·ª´ 6-8h s√°ng ƒë·ªÉ tr√°nh ƒë√¥ng ƒë√∫c v√† n·∫Øng n√≥ng.', '- L·ª±a ch·ªçn ph∆∞∆°ng ti·ªán giao th√¥ng c√¥ng c·ªông khi di chuy·ªÉn ·ªü H√† N·ªôi ƒë·ªÉ ti·∫øt ki·ªám chi ph√≠.', '- Tham quan c√°c ƒëi·ªÉm du l·ªãch n·ªïi ti·∫øng nh∆∞ H·ªì G∆∞∆°m, Ph·ªë c·ªï H√† N·ªôi, Ch√πa M·ªôt C·ªôt v√†o bu·ªïi s√°ng ƒë·ªÉ tr√°nh ƒë√¥ng ƒë√∫c.', '- √âp gi√° khi mua h√†ng t·∫°i c√°c ch·ª£ ƒë√™m ·ªü H√† N·ªôi ƒë·ªÉ ti·∫øt ki·ªám.', '- Tu√¢n th·ªß c√°c quy t·∫Øc vƒÉn h√≥a t·∫°i H√† N·ªôi, t√¥n tr·ªçng ƒë·ªãa ph∆∞∆°ng v√† kh√¥ng gian c√¥ng c·ªông.']}, {'date': '2025-05-15', 'day_title': 'Ng√†y 3: H√† N·ªôi m·ªõi l·∫° t·ª´ng g√≥c ph·ªë', 'segments': [{'time_of_day': 'morning', 'activities': [{'id': 'place_000342', 'type': 'place', 'name': 'Ha Noi Local Tour', 'start_time': '08:00', 'end_time': '09:00', 'description': 'B·∫°n s·∫Ω ƒë∆∞·ª£c d·∫°o quanh ph·ªë ph∆∞·ªùng, c·∫£m nh·∫≠n nh·ªãp s·ªëng nƒÉng ƒë·ªông c·ªßa H√† N·ªôi. üö∂', 'address': 'H√† N·ªôi', 'categories': 'tour, culture', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.6, 'price': 120000.0, 'image_url': '', 'url': ''}, {'id': 'place_000007', 'type': 'place', 'name': 'Hanoi Morgans Spa', 'start_time': '09:10', 'end_time': '10:10', 'description': 'Ch√∫ng ta s·∫Ω th∆∞ gi√£n v·ªõi d·ªãch v·ª• spa, t√°i t·∫°o nƒÉng l∆∞·ª£ng cho ng√†y m·ªõi. üíÜ\u200d‚ôÇÔ∏è', 'address': 'H√† N·ªôi', 'categories': 'spa', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.8, 'price': 350000.0, 'image_url': '', 'url': ''}, {'id': 'place_000125', 'type': 'place', 'name': 'Ahotua Viet Nam', 'start_time': '10:20', 'end_time': '11:30', 'description': 'B·∫°n s·∫Ω kh√°m ph√° kh√¥ng gian s√°ng t·∫°o, tr·∫£i nghi·ªám ƒë·∫∑c s·∫Øc v·ªÅ ngh·ªá thu·∫≠t Vi·ªát. üé®', 'address': 'H√† N·ªôi', 'categories': 'art, experience', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.5, 'price': 90000.0, 'image_url': '', 'url': ''}]}, {'time_of_day': 'afternoon', 'activities': [{'id': 'place_000149', 'type': 'place', 'name': 'Hanoi Tours (Vietnam)', 'start_time': '13:30', 'end_time': '14:30', 'description': 'Ch√∫ng ta s·∫Ω l√™n xe ƒëi·ªán d·∫°o ph·ªë c·ªï, c·∫£m nh·∫≠n h∆°i th·ªü c·ªßa H√† N·ªôi x∆∞a. üöã', 'address': 'H√† N·ªôi', 'categories': 'tour, sightseeing', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.7, 'price': 150000.0, 'image_url': '', 'url': ''}, {'id': 'place_000166', 'type': 'place', 'name': 'Old Town Spa', 'start_time': '14:40', 'end_time': '15:30', 'description': 'B·∫°n ƒë∆∞·ª£c th∆∞ gi√£n t·∫°i spa c·ªï ƒëi·ªÉn gi·ªØa l√≤ng ph·ªë c·ªï. üåø', 'address': 'H√† N·ªôi', 'categories': 'spa', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.8, 'price': 320000.0, 'image_url': '', 'url': ''}, {'id': 'place_000053', 'type': 'place', 'name': '88GO- Thu√™ xe s√¢n bay, xe du l·ªãch', 'start_time': '15:40', 'end_time': '16:30', 'description': 'Ch√∫ng ta s·∫Ω tr·∫£i nghi·ªám d·ªãch v·ª• thu√™ xe cao c·∫•p kh√°m ph√° th√†nh ph·ªë nƒÉng ƒë·ªông. üöó', 'address': 'H√† N·ªôi', 'categories': 'service, transport', 'duration': '2h', 'opening_hours': '08:00-17:00', 'rating': 4.6, 'price': 200000.0, 'image_url': '', 'url': ''}]}, {'time_of_day': 'evening', 'activities': [{'id': 'restaurant_000334', 'type': 'restaurant', 'name': 'Ba Mien', 'start_time': '18:00', 'end_time': '19:00', 'description': 'B·∫°n s·∫Ω th∆∞·ªüng th·ª©c b·ªØa t·ªëi v·ªõi h∆∞∆°ng v·ªã truy·ªÅn th·ªëng ƒë·ªß 3 mi·ªÅn Vi·ªát Nam. üç≤', 'address': 'H√† N·ªôi', 'cuisines': '·∫®m th·ª±c Vi·ªát truy·ªÅn th·ªëng', 'price_range': '100,000-300,000 VND', 'rating': 4.5, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'restaurant_000506', 'type': 'restaurant', 'name': 'Tam Vi', 'start_time': '19:10', 'end_time': '20:10', 'description': 'Ch√∫ng ta s·∫Ω nh√¢m nhi ch√®, b√°nh truy·ªÅn th·ªëng trong kh√¥ng gian c·ªï x∆∞a. üçµ', 'address': 'H√† N·ªôi', 'cuisines': 'Ch√®, b√°nh truy·ªÅn th·ªëng', 'price_range': '100,000-300,000 VND', 'rating': 4.4, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}, {'id': 'restaurant_000590', 'type': 'restaurant', 'name': 'Cloud Sky Bar Hanoi', 'start_time': '20:15', 'end_time': '21:30', 'description': 'B·∫°n s·∫Ω th∆∞·ªüng th·ª©c cocktail tr√™n s√¢n th∆∞·ª£ng, ng·∫Øm nh√¨n ƒë√™m H√† N·ªôi lung linh. üçπ', 'address': 'H√† N·ªôi', 'cuisines': 'Bar, cocktail', 'price_range': '100,000-300,000 VND', 'rating': 4.3, 'phone': '', 'services': ['ƒë·∫∑t b√†n'], 'image_url': '', 'url': ''}]}], 'daily_tips': ['- ThƒÉm Hanoi Local Tour v√†o s√°ng s·ªõm t·ª´ 8:00 - 9:00', '- S·ª≠ d·ª•ng ƒëi b·ªô ho·∫∑c xe ƒë·∫°p ƒë·ªÉ di chuy·ªÉn gi·ªØa c√°c ƒë·ªãa ƒëi·ªÉm', '- D·ª± ki·∫øn chi ph√≠ cho c·∫£ ng√†y l√† 700,000 VND', '- Tr√°nh mua h√†ng ƒë·∫Øt ti·ªÅn ·ªü c√°c c·ª≠a h√†ng ƒë·∫ßu ph·ªë', '- Chia s·∫ª m√≥n ƒÉn ƒë·ªÉ ti·∫øt ki·ªám chi ph√≠ ƒÉn u·ªëng', '- M·∫∑c ƒë·ªì k√≠n ƒë√°o khi thƒÉm ch√πa v√† c·ªüi gi√†y tr∆∞·ªõc khi v√†o']}]}
2025-05-13 18:08:04,695 - src.services.genrate_plan_api - INFO - Trip plan request processed successfully
2025-05-13 20:22:52,206 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:22:52,224 - app - INFO - All routers registered successfully
2025-05-13 20:27:05,324 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:27:05,347 - app - INFO - All routers registered successfully
2025-05-13 20:27:17,354 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:27:17,381 - app - INFO - All routers registered successfully
2025-05-13 20:28:10,699 - __mp_main__ - ERROR - Error registering routers: expected 'except' or 'finally' block (comment_agent.py, line 324)
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 31, in register_routers
    from src.services.comment_api import router as comment_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/comment_api.py", line 6, in <module>
    from src.agents.comment_agent import CommentAgent
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/comment_agent.py", line 324
    fnb_ids, results = vector_db.query(args.query,filter = filter, top_k=args.top_k)
    ^^^^^^^
SyntaxError: expected 'except' or 'finally' block
2025-05-13 20:28:18,377 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:28:18,402 - app - INFO - All routers registered successfully
2025-05-13 20:28:25,144 - __mp_main__ - ERROR - Error registering routers: invalid syntax (comment_agent.py, line 325)
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 31, in register_routers
    from src.services.comment_api import router as comment_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/comment_api.py", line 6, in <module>
    from src.agents.comment_agent import CommentAgent
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/comment_agent.py", line 325
    fnb_ids, fnb_results = self.fnb_db.query(query,filter = filter,, top_k=10)
                                                                   ^
SyntaxError: invalid syntax
2025-05-13 20:28:38,275 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:28:38,291 - app - INFO - All routers registered successfully
2025-05-13 20:29:07,763 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:29:07,786 - app - INFO - All routers registered successfully
2025-05-13 20:29:58,800 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:29:58,823 - app - INFO - All routers registered successfully
2025-05-13 20:31:34,342 - __mp_main__ - ERROR - Error registering routers: unexpected indent (comment_agent.py, line 372)
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 31, in register_routers
    from src.services.comment_api import router as comment_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/comment_api.py", line 6, in <module>
    from src.agents.comment_agent import CommentAgent
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/comment_agent.py", line 372
    filter = {"city": {"$eq" : self.destination_id}}
IndentationError: unexpected indent
2025-05-13 20:31:41,234 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:31:41,263 - app - INFO - All routers registered successfully
2025-05-13 20:34:28,571 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:34:28,596 - app - INFO - All routers registered successfully
2025-05-13 20:34:33,553 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 20:35:00,596 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn l√Ω th√∫, n·ªïi b·∫≠t v·ªõi c√°c m√¥ h√¨nh v√† hi·ªán v·∫≠t d√¢n t·ªôc h·ªçc phong ph√∫, cho ph√©p ng∆∞·ªùi tham quan hi·ªÉu s√¢u h∆°n v·ªÅ vƒÉn h√≥a v√† phong t·ª•c t·∫≠p qu√°n c·ªßa 54 d√¢n t·ªôc Vi·ªát Nam. ƒêi·ªÉm ƒë·∫∑c bi·ªát t·∫°i ƒë√¢y l√† c√°c khu v·ª±c tri·ªÉn l√£m t∆∞∆°ng t√°c, n∆°i b·∫°n c√≥ th·ªÉ tham gia v√†o c√°c ho·∫°t ƒë·ªông th·ª±c t·∫ø nh∆∞ l√†m ƒë·ªì th·ªß c√¥ng hay h·ªçc ƒëi·ªáu m√∫a d√¢n gian.\n\nƒê·ªëi v·ªõi nh·ªØng ai mu·ªën t√¨m t√≤i v√† h·ªçc h·ªèi v·ªÅ vƒÉn h√≥a, B·∫£o t√†ng D√¢n t·ªôc h·ªçc l√† s·ª± l·ª±a ch·ªçn l√Ω t∆∞·ªüng, thay th·∫ø cho nh·ªØng ƒëi·ªÉm ƒë·∫øn truy·ªÅn th·ªëng nh∆∞ c√¥ng vi√™n hay trung t√¢m th∆∞∆°ng m·∫°i. B·∫£o t√†ng kh√¥ng ch·ªâ cung c·∫•p th√¥ng tin m√† c√≤n mang ƒë·∫øn tr·∫£i nghi·ªám th·ª±c t·∫ø sinh ƒë·ªông qua c√°c kh√¥ng gian ngo√†i tr·ªùi r·ªông r√£i, n∆°i tr·∫ª em c√≥ th·ªÉ kh√°m ph√°, vui ch∆°i v√† t√¨m hi·ªÉu trong m·ªôt m√¥i tr∆∞·ªùng an to√†n.\n\nNh·ªØng b√¨nh lu·∫≠n t·ª´ ng∆∞·ªùi d√πng ƒë·ªÅu nh·∫•n m·∫°nh v·ªÅ ch·∫•t l∆∞·ª£ng tr·∫£i nghi·ªám s·∫Ω ƒë∆∞·ª£c n√¢ng cao b·ªüi c√°c ho·∫°t ƒë·ªông ƒëa d·∫°ng. B·∫£o t√†ng lu√¥n ch√∫ tr·ªçng ƒë·∫øn vi·ªác t·∫°o ra kh√¥ng gian th√¢n thi·ªán v√† g·∫ßn g≈©i cho gia ƒë√¨nh, gi√∫p c√°c b·∫≠c ph·ª• huynh y√™n t√¢m khi ƒë∆∞a tr·∫ª ƒë·∫øn kh√°m ph√° vƒÉn h√≥a Vi·ªát Nam. Thay v√¨ ch·ªâ ƒë∆°n thu·∫ßn l√† m·ªôt chuy·∫øn tham quan, n∆°i ƒë√¢y th·ª±c s·ª± l√† m·ªôt h√†nh tr√¨nh t√¨m hi·ªÉu', 'price_ai_estimate': 150000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho gia ƒë√¨nh v√† tr·∫ª em, k·∫øt h·ª£p ho√†n h·∫£o gi·ªØa gi·∫£i tr√≠ v√† gi√°o d·ª•c. M·ªôt trong nh·ªØng ƒë·∫∑c ƒëi·ªÉm ƒë·ªôc ƒë√°o c·ªßa khu vui ch∆°i l√† b·∫£o t√†ng t∆∞∆°ng t√°c, n∆°i tr·∫ª em c√≥ th·ªÉ tham gia c√°c ho·∫°t ƒë·ªông kh√°m ph√° khoa h·ªçc, ngh·ªá thu·∫≠t v√† vƒÉn h√≥a m·ªôt c√°ch th√∫ v·ªã. C√°c ch∆∞∆°ng tr√¨nh h·ªçc t·∫≠p t·∫°i ƒë√¢y gi√∫p tr·∫ª ph√°t tri·ªÉn t∆∞ duy s√°ng t·∫°o v√† k·ªπ nƒÉng gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ, ƒëi·ªÅu n√†y r·∫•t ph√π h·ª£p v·ªõi nhu c·∫ßu gi√°o d·ª•c hi·ªán ƒë·∫°i.\n\nKhu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n kh√¥ng ch·ªâ l√† m·ªôt l·ª±a ch·ªçn tuy·ªát v·ªùi cho nh·ªØng ai t√¨m ki·∫øm m·ªôt ng√†y vui ch∆°i th∆∞ gi√£n, m√† c√≤n l√† ƒëi·ªÉm ƒë·∫øn b·ªï √≠ch gi√∫p gia ƒë√¨nh k·∫øt n·ªëi th√¥ng qua c√°c ho·∫°t ƒë·ªông t∆∞∆°ng t√°c. So v·ªõi c√°c khu gi·∫£i tr√≠ th√¥ng th∆∞·ªùng, n∆°i ch·ªß y·∫øu t·∫≠p trung v√†o c√°c tr√≤ ch∆°i ƒëi·ªán t·ª≠, Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n cung c·∫•p tr·∫£i nghi·ªám phong ph√∫ h∆°n v·ªõi s·ª± k·∫øt h·ª£p gi·ªØa h·ªçc t·∫≠p v√† vui ch∆°i.\n\nƒê·ªëi v·ªõi nh·ªØng bƒÉn khoƒÉn th∆∞·ªùng g·∫∑p t·ª´ ng∆∞·ªùi d√πng nh∆∞ ch·∫•t l∆∞·ª£ng ƒë·ªì ch∆°i, an to√†n v√† s·ª± th√¢n thi·ªán v·ªõi tr·∫ª em, khu vui ch∆°i ƒë√£ ch√∫ tr·ªçng ƒë·∫øn nh·ªØng ƒëi·ªÉm n√†y b·∫±ng c√°ch x√¢y d·ª±ng c√°c c∆° s·ªü v·∫≠t ch·∫•t ƒë·∫°t ti√™u chu·∫©n cao v√† t·ªï ch·ª©c c√°c ho·∫°t ƒë·ªông ƒëa d·∫°ng, gi√∫p c√°c b·∫≠c ph·ª• huynh y√™n t√¢m khi cho con em vui ch∆°i t·∫°i ƒë√¢y. Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'price_ai_estimate': 500000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': '**B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam**\n\nB·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn ƒë·ªôc ƒë√°o, ƒë√£ thu h√∫t r·∫•t nhi·ªÅu du kh√°ch, ƒë·∫∑c bi·ªát l√† gia ƒë√¨nh c√≥ tr·∫ª nh·ªè. V·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i c√πng nhi·ªÅu khu v·ª±c t∆∞∆°ng t√°c h·∫•p d·∫´n, b·∫£o t√†ng mang ƒë·∫øn c√°i nh√¨n s√¢u s·∫Øc v·ªÅ vai tr√≤ v√† ƒë√≥ng g√≥p c·ªßa ph·ª• n·ªØ trong l·ªãch s·ª≠ v√† vƒÉn h√≥a Vi·ªát Nam. Nh·ªØng tri·ªÉn l√£m t·∫°i ƒë√¢y kh√¥ng ch·ªâ b·ªï √≠ch m√† c√≤n r·∫•t th√¢n thi·ªán, gi√∫p c√°c em nh·ªè d·ªÖ d√†ng ti·∫øp c·∫≠n v√† hi·ªÉu v·ªÅ truy·ªÅn th·ªëng v√† phong t·ª•c t·∫≠p qu√°n c·ªßa ph·ª• n·ªØ qua c√°c th·ªùi k·ª≥.\n\nƒêi·ªÉm ƒë·∫∑c bi·ªát c·ªßa b·∫£o t√†ng l√† c√°ch m√† c√°c ph√≤ng tr∆∞ng b√†y ƒë∆∞·ª£c b√†y tr√≠ sinh ƒë·ªông, khuy·∫øn kh√≠ch s·ª± tham gia c·ªßa tr·∫ª em. C√°c ho·∫°t ƒë·ªông t∆∞∆°ng t√°c nh∆∞ l√†m th·ªß c√¥ng ho·∫∑c tham gia tr√≤ ch∆°i t√°i hi·ªán l·ªãch s·ª≠ kh√¥ng ch·ªâ khi·∫øn tr·∫ª em th√≠ch th√∫ m√† c√≤n gi√∫p c√°c em ghi nh·ªõ ki·∫øn th·ª©c m·ªôt c√°ch t·ª± nhi√™n.\n\nNgo√†i ra, b·∫£o t√†ng c√≤n l√† m·ªôt l·ª±a ch·ªçn thay th·∫ø t·ªët cho c√°c ho·∫°t ƒë·ªông tham quan kh√°c b·ªüi th·ªùi gian tham quan ng·∫Øn g·ªçn, ch·ªâ t·ª´ 1-2 gi·ªù, r·∫•t ph√π h·ª£p v·ªõi l·ªãch tr√¨nh c·ªßa gia ƒë√¨nh. Nh·ªØng m·ªëi quan ng·∫°i v·ªÅ s·ª± ph√π h·ª£p v·ªõi tr·∫ª nh·ªè ƒë√£ ƒë∆∞·ª£c gi·∫£i quy·∫øt b·∫±ng vi·ªác thi·∫øt k·∫ø kh√¥ng gian an to√†n v√† th√¢n thi·ªán, c√πng v·ªõi ƒë·ªôi ng≈© nh√¢n vi√™n h·ªó tr·ª£ nhi·ªát t√¨nh. B·∫£o t√†ng', 'price_ai_estimate': 200000.0}], 'query_used': '  in '}
2025-05-13 20:38:30,758 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 20:38:53,748 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': '**B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam**\n\nN·∫±m t·∫°i H√† N·ªôi, B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam kh√¥ng ch·ªâ l√† n∆°i l∆∞u gi·ªØ vƒÉn h√≥a, m√† c√≤n l√† ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho c·∫£ gia ƒë√¨nh. V·ªõi c√°c m√¥ h√¨nh v√† hi·ªán v·∫≠t d√¢n t·ªôc h·ªçc ƒëa d·∫°ng, b·∫£o t√†ng mang ƒë·∫øn tr·∫£i nghi·ªám phong ph√∫ v·ªÅ n·ªÅn vƒÉn h√≥a phong ph√∫ c·ªßa 54 d√¢n t·ªôc Vi·ªát Nam. M·ªôt trong nh·ªØng ƒë·∫∑c ƒëi·ªÉm n·ªïi b·∫≠t nh·∫•t l√† kh√¥ng gian ngo√†i tr·ªùi r·ªông r√£i, n∆°i tr·∫ª em c√≥ th·ªÉ t·ª± do kh√°m ph√° v√† vui ch∆°i, khuy·∫øn kh√≠ch s·ª± t√≤ m√≤ v√† h·ªçc h·ªèi qua c√°c ho·∫°t ƒë·ªông t∆∞∆°ng t√°c.\n\nB·∫£o t√†ng l√† l·ª±a ch·ªçn tuy·ªát v·ªùi cho nh·ªØng ai t√¨m ki·∫øm m·ªôt tr·∫£i nghi·ªám gi√°o d·ª•c th√∫ v·ªã thay v√¨ ch·ªâ ƒë∆°n thu·∫ßn tham gia v√†o c√°c ho·∫°t ƒë·ªông gi·∫£i tr√≠ th√¥ng th∆∞·ªùng. Nh·ªØng tri·ªÉn l√£m phong ph√∫ v√† s·ªëng ƒë·ªông gi√∫p ng∆∞·ªùi l·ªõn v√† tr·∫ª nh·ªè ƒë·ªÅu c√≥ th·ªÉ d·ªÖ d√†ng hi·ªÉu v√† c·∫£m nh·∫≠n v·ªÅ b·∫£n s·∫Øc vƒÉn h√≥a d√¢n t·ªôc, t·ª´ trang ph·ª•c, nh·∫°c c·ª• ƒë·∫øn c√°c nghi l·ªÖ truy·ªÅn th·ªëng.\n\nB√™n c·∫°nh ƒë√≥, b·∫£o t√†ng c≈©ng ch√∫ tr·ªçng ƒë·∫øn v·∫•n ƒë·ªÅ an to√†n v√† ch·∫•t l∆∞·ª£ng d·ªãch v·ª•. C√°c ph·∫£n h·ªìi t·ª´ kh√°ch tham quan cho th·∫•y tr·∫ª em r·∫•t th√≠ch th√∫ v√† c√≥ th·ªÉ vui ch∆°i an to√†n trong kh√¥ng gian ƒë∆∞·ª£c thi·∫øt k·∫ø kh√©o l√©o. M·ªçi ho·∫°t ƒë·ªông ƒë·ªÅu ƒë∆∞·ª£c l√™n k·∫ø ho·∫°ch m·ªôt c√°ch t·ªâ m·ªâ, ƒë·∫£m b·∫£o r·∫±ng c·∫£ gia', 'price_ai_estimate': 200000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho c√°c gia ƒë√¨nh v·ªõi tr·∫ª nh·ªè, n∆°i k·∫øt h·ª£p ho√†n h·∫£o gi·ªØa gi·∫£i tr√≠ v√† gi√°o d·ª•c. Khu vui ch∆°i kh√¥ng ch·ªâ cung c·∫•p nh·ªØng tr√≤ ch∆°i th√∫ v·ªã m√† c√≤n l√† m·ªôt b·∫£o t√†ng t∆∞∆°ng t√°c ƒëa d·∫°ng, gi√∫p tr·∫ª em c√≥ c∆° h·ªôi h·ªçc h·ªèi ki·∫øn th·ª©c th√¥ng qua tr·∫£i nghi·ªám th·ª±c t·∫ø. C√°c khu v·ª±c nh∆∞ "Th·∫ø gi·ªõi kh·ªßng long" hay "V≈© tr·ª• h·∫°t gi·ªëng" ƒë∆∞a b√© v√†o c√°c h√†nh tr√¨nh kh√°m ph√° ƒë·∫ßy l√Ω th√∫.\n\nS·ª± kh√°c bi·ªát c·ªßa Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n n·∫±m ·ªü vi·ªác k·∫øt h·ª£p gi·ªØa c√°c tr√≤ ch∆°i s√°ng t·∫°o v√† c√°c ho·∫°t ƒë·ªông gi√°o d·ª•c, khuy·∫øn kh√≠ch tr·∫ª em ph√°t tri·ªÉn t∆∞ duy v√† k·ªπ nƒÉng x√£ h·ªôi trong khi v·∫´n ƒë∆∞·ª£c vui ch∆°i th·ªèa th√≠ch. Kh√¥ng gian r·ªông r√£i v√† xanh m√°t t·∫°o ƒëi·ªÅu ki·ªán l√Ω t∆∞·ªüng cho c√°c b√© tho·∫£i m√°i vui ch∆°i, trong khi b·ªë m·∫π c√≥ th·ªÉ an t√¢m theo d√µi t·ª´ xa.\n\nNhi·ªÅu ph·ª• huynh chia s·∫ª r·∫±ng h·ªç lo l·∫Øng v·ªÅ s·ª± an to√†n v√† ch·∫•t l∆∞·ª£ng c·ªßa c√°c ho·∫°t ƒë·ªông t·∫°i khu vui ch∆°i. Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n ƒë√£ ƒë√°p ·ª©ng t·ªët nh·ªØng mong ƒë·ª£i n√†y b·∫±ng c√°ch trang b·ªã ƒë·∫ßy ƒë·ªß ti·ªán nghi an to√†n v√† ƒë·ªôi ng≈© nh√¢n vi√™n ƒë∆∞·ª£c ƒë√†o t·∫°o b√†i b·∫£n, s·∫µn s√†ng h·ªó tr·ª£ trong m·ªçi t√¨nh hu·ªëng. N·∫øu b·∫°n ƒëang t√¨m ki·∫øm m·ªôt n∆°i v·ª´a gi√∫p tr·∫ª ph√°t tri·ªÉn v·ª´a cung c·∫•p kh√¥ng gian', 'price_ai_estimate': 500000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam, t·ªça l·∫°c t·∫°i trung t√¢m H√† N·ªôi, l√† m·ªôt ƒëi·ªÉm ƒë·∫øn ƒë·∫∑c bi·ªát, n·ªïi b·∫≠t v·ªõi nh·ªØng tri·ªÉn l√£m ƒëa d·∫°ng v√† t∆∞∆°ng t√°c, gi√∫p kh√°ch tham quan hi·ªÉu r√µ h∆°n v·ªÅ vai tr√≤ v√† v·ªã tr√≠ c·ªßa ph·ª• n·ªØ trong l·ªãch s·ª≠ v√† vƒÉn h√≥a Vi·ªát Nam. M·ªôt trong nh·ªØng ƒëi·ªÉm nh·∫•n ƒë·ªôc ƒë√°o c·ªßa b·∫£o t√†ng l√† kh√¥ng gian t∆∞∆°ng t√°c, n∆°i du kh√°ch c√≥ th·ªÉ tham gia v√†o c√°c ho·∫°t ƒë·ªông h∆∞·ªõng d·∫´n, tr√≤ ch∆°i gi√°o d·ª•c v√† tr·∫£i nghi·ªám th·ª±c t·∫ø. ƒêi·ªÅu n√†y kh√¥ng ch·ªâ t·∫°o c∆° h·ªôi cho tr·∫ª em m√† c√≤n l√†m cho tr·∫£i nghi·ªám tr·ªü n√™n th√∫ v·ªã v√† c√≥ √Ω nghƒ©a cho to√†n gia ƒë√¨nh.\n\nB·∫£o t√†ng l√† s·ª± l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho nh·ªØng ai t√¨m ki·∫øm m·ªôt tr·∫£i nghi·ªám vƒÉn h√≥a ng·∫Øn g·ªçn nh∆∞ng s√¢u s·∫Øc. Th·ªùi gian tham quan t·∫°i ƒë√¢y kh√¥ng qu√° d√†i, ph√π h·ª£p v·ªõi l·ªãch tr√¨nh c·ªßa nh·ªØng gia ƒë√¨nh c√≥ tr·∫ª nh·ªè. H∆°n n·ªØa, c√°c tri·ªÉn l√£m ƒë∆∞·ª£c thi·∫øt k·∫ø th√¢n thi·ªán, gi√∫p m·ªçi l·ª©a tu·ªïi d·ªÖ d√†ng ti·∫øp c·∫≠n v√† thu h√∫t.\n\nƒêi·ªÉm ƒë√°ng l∆∞u √Ω l√† b·∫£o t√†ng ƒë√£ ch√∫ tr·ªçng l·∫Øng nghe v√† c·∫£i thi·ªán d·ª±a tr√™n √Ω ki·∫øn c·ªßa du kh√°ch. C√°c m·ªëi quan t√¢m v·ªÅ s·ª± ph√π h·ª£p cho tr·∫ª em hay th·ªùi gian tham quan ƒë∆∞·ª£c gi·∫£i quy·∫øt th√¥ng qua vi·ªác cung c·∫•p nhi·ªÅu ho·∫°t ƒë·ªông v√† ƒëi·ªÅu ch·ªânh kh√¥ng gian tham quan, ƒë·∫£m b·∫£o r·∫±ng m·ªçi ng∆∞·ªùi, kh√¥ng k·ªÉ ƒë·ªô tu·ªïi, ƒë·ªÅu c√≥ th·ªÉ th∆∞·ªüng th·ª©c v√† h·ªçc h·ªèi t·∫°i', 'price_ai_estimate': 150000.0}], 'query_used': '  in '}
2025-05-13 20:41:30,212 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:41:30,247 - app - INFO - All routers registered successfully
2025-05-13 20:41:30,249 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 20:41:53,468 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn kh√¥ng th·ªÉ b·ªè qua cho nh·ªØng ai y√™u th√≠ch t√¨m hi·ªÉu v·ªÅ vƒÉn h√≥a v√† truy·ªÅn th·ªëng ƒëa d·∫°ng c·ªßa c√°c d√¢n t·ªôc t·∫°i Vi·ªát Nam. B·∫£o t√†ng s·ªü h·ªØu nhi·ªÅu m√¥ h√¨nh v√† hi·ªán v·∫≠t s·ªëng ƒë·ªông, gi√∫p du kh√°ch c√≥ c√°i nh√¨n tr·ª±c quan v·ªÅ ƒë·ªùi s·ªëng, phong t·ª•c t·∫≠p qu√°n c≈©ng nh∆∞ l·ªãch s·ª≠ c·ªßa c√°c d√¢n t·ªôc thi·ªÉu s·ªë. C√°c khu v·ª±c tr∆∞ng b√†y ngo√†i tr·ªùi r·ªông r√£i t·∫°o ƒëi·ªÅu ki·ªán cho tr·∫ª em kh√°m ph√° v√† ch∆°i ƒë√πa, mang ƒë·∫øn m·ªôt tr·∫£i nghi·ªám gi√°o d·ª•c th√∫ v·ªã v√† h·∫•p d·∫´n.\n\nƒêi·ªÅu ƒë·∫∑c bi·ªát c·ªßa b·∫£o t√†ng l√† s·ª± t∆∞∆°ng t√°c gi·ªØa ng∆∞·ªùi xem v√† c√°c m√¥ h√¨nh. Du kh√°ch kh√¥ng ch·ªâ ƒë∆°n thu·∫ßn xem m√† c√≤n c√≥ th·ªÉ tham gia v√†o c√°c ho·∫°t ƒë·ªông th·ª±c h√†nh, t·ª´ ƒë√≥ gi√∫p hi·ªÉu s√¢u h∆°n v·ªÅ vƒÉn h√≥a c·ªßa t·ª´ng d√¢n t·ªôc. Ngo√†i ra, kh√¥ng gian tho√°ng ƒë√£ng v√† thi·∫øt k·∫ø th√¥ng minh c≈©ng gi√∫p du kh√°ch c·∫£m th·∫•y tho·∫£i m√°i h∆°n so v·ªõi nh·ªØng ƒëi·ªÉm ƒë·∫øn ƒë√¥ng ƒë√∫c v√† ch·∫≠t ch·ªôi.\n\nB·∫£o t√†ng c√≤n gi·∫£i quy·∫øt m·ªôt s·ªë m·ªëi quan t√¢m t·ª´ du kh√°ch, nh∆∞ vi·ªác thi·∫øu ho·∫°t ƒë·ªông d√†nh cho tr·∫ª em. V·ªõi c√°c khu vui ch∆°i v√† kh√°m ph√° kh√¥ng gian b√™n ngo√†i, n∆°i ƒë√¢y mang ƒë·∫øn cho c√°c gia ƒë√¨nh l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho ng√†y cu·ªëi tu·∫ßn, k·∫øt h·ª£p gi·ªØa h·ªçc h·ªèi v√† vui ch∆°i. Tham quan B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát', 'price_ai_estimate': 150000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† m·ªôt ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho c√°c gia ƒë√¨nh c√≥ tr·∫ª em, n∆°i k·∫øt h·ª£p ho√†n h·∫£o gi·ªØa gi·∫£i tr√≠ v√† gi√°o d·ª•c. ƒêi·ªÉm ƒë·∫∑c bi·ªát ·ªü ƒë√¢y l√† b·∫£o t√†ng t∆∞∆°ng t√°c, n∆°i tr·∫ª em c√≥ th·ªÉ tr·∫£i nghi·ªám nh·ªØng ki·∫øn th·ª©c b·ªï √≠ch qua c√°c ho·∫°t ƒë·ªông thi·∫øt th·ª±c, gi√∫p k√≠ch th√≠ch tr√≠ t∆∞·ªüng t∆∞·ª£ng v√† s·ª± s√°ng t·∫°o c·ªßa c√°c em.\n\nKhu vui ch∆°i n√†y kh√¥ng ch·ªâ mang ƒë·∫øn nh·ªØng tr√≤ ch∆°i th√∫ v·ªã m√† c√≤n t·∫°o ra m√¥i tr∆∞·ªùng h·ªçc t·∫≠p t√≠ch c·ª±c, khi·∫øn n√≥ tr·ªü th√†nh l·ª±a ch·ªçn thay th·∫ø t·ªët cho nh·ªØng khu gi·∫£i tr√≠ th√¥ng th∆∞·ªùng. T·ª´ c√°c tr√≤ ch∆°i v·∫≠n ƒë·ªông ƒë·∫øn c√°c bu·ªïi bi·ªÉu di·ªÖn ngh·ªá thu·∫≠t, m·ªçi ho·∫°t ƒë·ªông ƒë·ªÅu ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ph√π h·ª£p v·ªõi nhu c·∫ßu v√† s·ªü th√≠ch c·ªßa tr·∫ª.\n\nƒê·ªëi v·ªõi nh·ªØng b·∫≠n t√¢m t·ª´ ng∆∞·ªùi d√πng, Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n ƒë√£ gi·∫£i quy·∫øt hi·ªáu qu·∫£ b·∫±ng c√°ch duy tr√¨ m·ªôt kh√¥ng gian an to√†n v√† th√¢n thi·ªán, v·ªõi ƒë·ªôi ng≈© nh√¢n vi√™n nhi·ªát t√¨nh lu√¥n s·∫µn s√†ng h·ªó tr·ª£. H·ªá th·ªëng an ninh ƒë∆∞·ª£c ƒë·∫£m b·∫£o, gi√∫p c√°c b·∫≠c ph·ª• huynh y√™n t√¢m khi cho tr·∫ª tham gia c√°c ho·∫°t ƒë·ªông. Kh√¥ng nh·ªØng th·∫ø, c√°c ƒëi·ªÉm ngh·ªâ ng∆°i v√† d·ªãch v·ª• ƒÉn u·ªëng c≈©ng r·∫•t ƒë∆∞·ª£c ch√∫ tr·ªçng, t·∫°o n√™n m·ªôt tr·∫£i nghi·ªám tho·∫£i m√°i v√† tr·ªçn v·∫πn cho c·∫£ gia ƒë√¨nh. Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n th·ª±c s·ª± l√† n∆°i l√Ω t∆∞·ªüng ƒë·ªÉ g·∫Øn k·∫øt', 'price_ai_estimate': 500000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn ƒë·ªôc ƒë√°o t·∫°i H√† N·ªôi, n∆°i kh√°m ph√° s√¢u s·∫Øc v·ªÅ vai tr√≤ v√† ƒë√≥ng g√≥p c·ªßa ph·ª• n·ªØ trong l·ªãch s·ª≠ v√† vƒÉn h√≥a Vi·ªát Nam. V·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i v√† nhi·ªÅu khu v·ª±c t∆∞∆°ng t√°c, b·∫£o t√†ng cung c·∫•p tr·∫£i nghi·ªám th√∫ v·ªã cho c·∫£ gia ƒë√¨nh, ƒë·∫∑c bi·ªát l√† tr·∫ª em. C√°c tri·ªÉn l√£m ƒë∆∞·ª£c tr∆∞ng b√†y sinh ƒë·ªông, k·∫øt h·ª£p gi·ªØa truy·ªÅn th·ªëng v√† hi·ªán ƒë·∫°i, gi√∫p ng∆∞·ªùi tham quan hi·ªÉu r√µ h∆°n v·ªÅ v·ªã th·∫ø c·ªßa ph·ª• n·ªØ qua c√°c th·ªùi k·ª≥.\n\nM·ªôt trong nh·ªØng ƒë·∫∑c ƒëi·ªÉm n·ªïi b·∫≠t c·ªßa b·∫£o t√†ng l√† c√°c ho·∫°t ƒë·ªông t∆∞∆°ng t√°c, cho ph√©p tr·∫ª nh·ªè tham gia v√†o nh·ªØng tr√≤ ch∆°i gi√°o d·ª•c, qua ƒë√≥ t·∫°o ra m·ªôt m√¥i tr∆∞·ªùng h·ªçc t·∫≠p vui v·∫ª v√† tho·∫£i m√°i. Ngo√†i ra, kh√¥ng gian tho√°ng ƒë√£ng c√πng v·ªõi s·ª± b·ªë tr√≠ h·ª£p l√Ω c√°c khu v·ª±c tr∆∞ng b√†y gi√∫p kh√°ch tham quan d·ªÖ d√†ng di chuy·ªÉn v√† kh√°m ph√°.\n\nƒê·ªëi v·ªõi nh·ªØng ai ƒëang t√¨m ki·∫øm m·ªôt l·ª±a ch·ªçn thay th·∫ø cho c√°c ƒëi·ªÉm du l·ªãch ƒë√¥ng ƒë√∫c, B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam mang ƒë·∫øn s·ª± th∆∞ gi√£n v√† g·∫ßn g≈©i h∆°n v·ªõi vƒÉn h√≥a ƒë·ªãa ph∆∞∆°ng. V·ªõi s·ª± ch√∫ √Ω ƒë·∫øn s·ª± h·ª©ng th√∫ v√† nhu c·∫ßu c·ªßa ph·ª• huynh c≈©ng nh∆∞ tr·∫ª em, n∆°i ƒë√¢y th·ª±c s·ª± l√† m·ªôt l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho nh·ªØng bu·ªïi tham quan ng·∫Øn m√† v·∫´n ƒë·∫ßy √Ω nghƒ©a v√† b·ªï √≠ch.', 'price_ai_estimate': 100000.0}], 'query_used': '  in '}
2025-05-13 20:50:31,310 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:50:31,328 - app - INFO - All routers registered successfully
2025-05-13 20:50:45,993 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:50:46,026 - app - INFO - All routers registered successfully
2025-05-13 20:50:51,685 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 20:51:17,167 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': '**B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam** l√† m·ªôt trong nh·ªØng ƒëi·ªÉm ƒë·∫øn h·∫•p d·∫´n kh√¥ng th·ªÉ b·ªè qua t·∫°i H√† N·ªôi, n∆°i t√°i hi·ªán ch√¢n th·ª±c ƒëa d·∫°ng vƒÉn h√≥a v√† b·∫£n s·∫Øc d√¢n t·ªôc Vi·ªát. V·ªõi c√°c m√¥ h√¨nh v√† hi·ªán v·∫≠t ƒë∆∞·ª£c thi·∫øt k·∫ø s·ªëng ƒë·ªông, b·∫£o t√†ng cho ph√©p du kh√°ch, ƒë·∫∑c bi·ªát l√† tr·∫ª em, tr·∫£i nghi·ªám nh·ªØng truy·ªÅn th·ªëng v√† t·∫≠p qu√°n c·ªßa 54 d√¢n t·ªôc anh em.\n\nM·ªôt trong nh·ªØng ƒëi·ªÉm nh·∫•n c·ªßa b·∫£o t√†ng l√† c√°c khu v·ª±c ngo√†i tr·ªùi r·ªông r√£i, n∆°i t·ªï ch·ª©c c√°c ho·∫°t ƒë·ªông gi√°o d·ª•c v√† vui ch∆°i cho tr·∫ª em, gi√∫p c√°c em kh√¥ng ch·ªâ h·ªçc h·ªèi m√† c√≤n ph√°t tri·ªÉn c√°c k·ªπ nƒÉng t∆∞∆°ng t√°c x√£ h·ªôi qua vi·ªác kh√°m ph√° v√† tham gia v√†o c√°c tr√≤ ch∆°i d√¢n gian. ƒêi·ªÅu n√†y gi√∫p t·∫°o ra m·ªôt m√¥i tr∆∞·ªùng h·ªçc h·ªèi tho·∫£i m√°i v√† kh√¥ng g√≤ b√≥.\n\nB·∫£o t√†ng c≈©ng l√† m·ªôt l·ª±a ch·ªçn tuy·ªát v·ªùi cho nh·ªØng ai t√¨m ki·∫øm nh·ªØng tr·∫£i nghi·ªám vƒÉn h√≥a kh√°c bi·ªát so v·ªõi c√°c trung t√¢m du l·ªãch ƒë√¥ng ƒë√∫c kh√°c. N∆°i ƒë√¢y mang l·∫°i kh√¥ng gian y√™n tƒ©nh h∆°n, gi√∫p du kh√°ch c√≥ th·ªÉ t√¨m hi·ªÉu m·ªôt c√°ch s√¢u s·∫Øc v·ªÅ vƒÉn h√≥a Vi·ªát Nam m√† kh√¥ng c·∫£m th·∫•y b·ªã √°p l·ª±c.\n\nNh·ªØng ph·∫£n h·ªìi t·ª´ kh√°ch tham quan th∆∞·ªùng nh·∫•n m·∫°nh ƒë·∫øn kh√¥ng gian tho√°ng ƒë√£ng, s·ª± t·∫≠n t√¢m c·ªßa ƒë·ªôi ng≈© h∆∞·ªõng d·∫´n vi√™n c≈©ng nh∆∞ c√°c th√¥ng tin phong ph√∫ v·ªÅ c√°c d√¢n t·ªôc. B·∫£o t√†ng ƒë√£', 'price_ai_estimate': 150000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† m·ªôt ƒë·ªãa ƒëi·ªÉm l√Ω t∆∞·ªüng cho gia ƒë√¨nh v√† tr·∫ª em, n·ªïi b·∫≠t v·ªõi s·ª± k·∫øt h·ª£p gi·ªØa c√°c ho·∫°t ƒë·ªông gi·∫£i tr√≠ v√† gi√°o d·ª•c. V·ªõi nhi·ªÅu khu v·ª±c t∆∞∆°ng t√°c, n∆°i tr·∫ª c√≥ th·ªÉ kh√°m ph√°, s√°ng t·∫°o v√† h·ªçc h·ªèi th√¥ng qua nh·ªØng tr·∫£i nghi·ªám th√∫ v·ªã, Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n ch·∫Øc ch·∫Øn s·∫Ω thu h√∫t s·ª± ch√∫ √Ω c·ªßa c√°c b·∫≠c ph·ª• huynh c√πng con c√°i.\n\nM·ªôt trong nh·ªØng ƒëi·ªÉm ƒë·∫∑c bi·ªát c·ªßa khu vui ch∆°i n√†y l√† b·∫£o t√†ng t∆∞∆°ng t√°c, n∆°i tr·∫ª em c√≥ th·ªÉ tham gia v√†o h√†ng lo·∫°t tr√≤ ch∆°i v√† ho·∫°t ƒë·ªông kh√°m ph√°, t·ª´ ngh·ªá thu·∫≠t, khoa h·ªçc ƒë·∫øn vƒÉn h√≥a. C√°c ch∆∞∆°ng tr√¨nh gi√°o d·ª•c s√°ng t·∫°o gi√∫p tr·∫ª ph√°t tri·ªÉn t∆∞ duy v√† k·ªπ nƒÉng m·ªÅm trong khi v·∫´n t·∫≠n h∆∞·ªüng nh·ªØng gi·ªù ph√∫t vui ch∆°i.\n\nSo v·ªõi c√°c khu v·ª±c kh√°c th∆∞·ªùng ch·ªâ t·∫≠p trung v√†o gi·∫£i tr√≠, Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n mang l·∫°i s·ª± c√¢n b·∫±ng gi·ªØa h·ªçc h·ªèi v√† vui ch∆°i, ƒë√°p ·ª©ng nhu c·∫ßu t√¨m ki·∫øm nh·ªØng tr·∫£i nghi·ªám b·ªï √≠ch cho tr·∫ª em. H∆°n n·ªØa, b·∫±ng vi·ªác cung c·∫•p nhi·ªÅu ho·∫°t ƒë·ªông ƒë·∫£m b·∫£o an to√†n v√† th√¢n thi·ªán v·ªõi tr·∫ª nh·ªè, khu vui ch∆°i ƒë√£ gi·∫£i quy·∫øt c√°c m·ªëi quan t√¢m c·ªßa ph·ª• huynh v·ªÅ an to√†n c≈©ng nh∆∞ gi√° tr·ªã gi√°o d·ª•c.\n\nV·ªõi nh·ªØng ƒëi·ªÅu th√∫ v·ªã v√† b·ªï √≠ch, Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† l·ª±a ch·ªçn ho√†n h·∫£o cho nh·ªØng gia ƒë√¨nh mong mu·ªën mang l·∫°i m√¥i tr∆∞·ªùng vui', 'price_ai_estimate': 50000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam, t·ªça l·∫°c t·∫°i trung t√¢m H√† N·ªôi, l√† ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho nh·ªØng ai mu·ªën kh√°m ph√° vai tr√≤ v√† ƒë√≥ng g√≥p c·ªßa ph·ª• n·ªØ trong x√£ h·ªôi Vi·ªát Nam qua c√°c th·ªùi k·ª≥. V·ªõi ki·∫øn tr√∫c hi·ªán ƒë·∫°i v√† kh√¥ng gian r·ªông r√£i, b·∫£o t√†ng cung c·∫•p nhi·ªÅu khu v·ª±c t∆∞∆°ng t√°c, thu h√∫t c·∫£ tr·∫ª em v√† ng∆∞·ªùi l·ªõn. ƒêi·ªÉm ƒë·∫∑c bi·ªát l√† nh·ªØng tri·ªÉn l√£m ƒëa d·∫°ng, kh√¥ng ch·ªâ gi·ªõi thi·ªáu di s·∫£n vƒÉn h√≥a m√† c√≤n kh·∫Øc h·ªça nh·ªØng c√¢u chuy·ªán ƒë·∫ßy c·∫£m h·ª©ng v·ªÅ s·ª©c m·∫°nh v√† ngh·ªã l·ª±c c·ªßa ph·ª• n·ªØ.\n\nB·∫£o t√†ng l√† l·ª±a ch·ªçn thay th·∫ø tuy·ªát v·ªùi cho nh·ªØng kh√¥ng gian vƒÉn h√≥a truy·ªÅn th·ªëng, nh·ªù t√≠nh nƒÉng th√¢n thi·ªán v·ªõi gia ƒë√¨nh, gi√∫p tr·∫ª em d·ªÖ d√†ng ti·∫øp c·∫≠n v√† hi·ªÉu bi·∫øt v·ªÅ l·ªãch s·ª≠. C√°c ho·∫°t ƒë·ªông t∆∞∆°ng t√°c, tr√≤ ch∆°i gi√°o d·ª•c v√† nh·ªØng g√≥c ch·ª•p h√¨nh s√°ng t·∫°o l√† ∆∞u ƒëi·ªÉm n·ªïi b·∫≠t, gi√∫p ph·ª• huynh y√™n t√¢m khi ƒë∆∞a con c√°i ƒë·∫øn tham quan.\n\nNgo√†i ra, b·∫£o t√†ng ƒë√£ l·∫Øng nghe √Ω ki·∫øn c·ªßa ng∆∞·ªùi d√πng v√† ƒëi·ªÅu ch·ªânh n·ªôi dung c≈©ng nh∆∞ ho·∫°t ƒë·ªông ƒë·ªÉ ƒë·∫£m b·∫£o ph√π h·ª£p v·ªõi nhu c·∫ßu v√† s·ªü th√≠ch c·ªßa gia ƒë√¨nh. S·ª± chƒÉm s√≥c t·ªâ m·ªâ t·ª´ ƒë·ªôi ng≈© nh√¢n vi√™n c≈©ng g√≥p ph·∫ßn l√†m cho tr·∫£i nghi·ªám tham quan tr·ªü n√™n tho·∫£i m√°i v√† ƒë√°ng nh·ªõ. V·ªõi nh·ªØng ƒëi·ªÅu n√†y, B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam h', 'price_ai_estimate': 150000.0}], 'query_used': '  in '}
2025-05-13 20:51:28,587 - __main__ - INFO - All routers registered successfully
2025-05-13 20:51:34,845 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:51:35,011 - app - INFO - All routers registered successfully
2025-05-13 20:51:54,301 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:51:54,349 - app - INFO - All routers registered successfully
2025-05-13 20:53:15,611 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:53:15,637 - app - INFO - All routers registered successfully
2025-05-13 20:55:41,539 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 20:56:02,516 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': '**B·∫£o T√†ng D√¢n T·ªôc H·ªçc Vi·ªát Nam** l√† m·ªôt ƒëi·ªÉm ƒë·∫øn th√∫ v·ªã v√† ƒë·ªôc ƒë√°o, n·ªïi b·∫≠t v·ªõi nh·ªØng m√¥ h√¨nh v√† hi·ªán v·∫≠t v√¥ c√πng s·ªëng ƒë·ªông, th·ªÉ hi·ªán phong ph√∫ vƒÉn h√≥a v√† l·ªãch s·ª≠ c·ªßa c√°c d√¢n t·ªôc Vi·ªát Nam. ƒêi·ªÉm ƒë·∫∑c bi·ªát c·ªßa b·∫£o t√†ng l√† s·ª± k·∫øt h·ª£p gi·ªØa c√°c kh√¥ng gian n·ªôi th·∫•t v√† ngo·∫°i th·∫•t, t·∫°o ƒëi·ªÅu ki·ªán thu·∫≠n l·ª£i cho c·∫£ s·ª± t√¨m hi·ªÉu v√† vui ch∆°i. Khu v·ª±c ngo√†i tr·ªùi r·ªông r√£i l√† n∆°i l√Ω t∆∞·ªüng cho tr·∫ª em ch·∫°y nh·∫£y, kh√°m ph√° v√† tham gia v√†o c√°c ho·∫°t ƒë·ªông d√¢y chuy·ªÅn mang t√≠nh gi√°o d·ª•c.\n\nB·∫£o t√†ng kh√¥ng ch·ªâ l√† m·ªôt s·ª± thay th·∫ø tuy·ªát v·ªùi cho nh·ªØng chuy·∫øn du l·ªãch truy·ªÅn th·ªëng, m√† c√≤n mang l·∫°i tr·∫£i nghi·ªám gi√°o d·ª•c phong ph√∫ cho c·∫£ gia ƒë√¨nh. T·∫°i ƒë√¢y, du kh√°ch c√≥ th·ªÉ tham gia v√†o c√°c ho·∫°t ƒë·ªông t∆∞∆°ng t√°c, t√¨m hi·ªÉu v·ªÅ c√°c phong t·ª•c t·∫≠p qu√°n c·ªßa c√°c d√¢n t·ªôc qua c√°c exhibition s·ªëng ƒë·ªông.\n\nƒê·ªëi v·ªõi nh·ªØng m·ªëi quan ng·∫°i t·ª´ ng∆∞·ªùi d√πng, b·∫£o t√†ng ƒë√£ c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng d·ªãch v·ª• h∆∞·ªõng d·∫´n vi√™n v√† th√¥ng tin tr∆∞ng b√†y, ƒë·∫£m b·∫£o r·∫±ng m·ªçi ng∆∞·ªùi c√≥ th·ªÉ d·ªÖ d√†ng ti·∫øp c·∫≠n th√¥ng tin v√† c·∫£m nh·∫≠n ƒë∆∞·ª£c gi√° tr·ªã vƒÉn h√≥a tinh t·∫ø c·ªßa m·ªói hi·ªán v·∫≠t. ƒê√¢y th·ª±c s·ª± l√† m·ªôt ƒëi·ªÉm ƒë·∫øn ƒë√°ng ƒë·ªÉ kh√°m ph√° cho t·∫•t c·∫£ m·ªçi ng∆∞·ªùi, t·ª´ tr·∫ª em cho ƒë·∫øn ng∆∞·ªùi l·ªõn.', 'price_ai_estimate': 200000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho c√°c gia ƒë√¨nh mu·ªën k·∫øt h·ª£p gi·∫£i tr√≠ v√† gi√°o d·ª•c. N·ªïi b·∫≠t v·ªõi nhi·ªÅu ho·∫°t ƒë·ªông t∆∞∆°ng t√°c th√∫ v·ªã, n∆°i ƒë√¢y kh√¥ng ch·ªâ l√† khu vui ch∆°i m√† c√≤n l√† b·∫£o t√†ng gi√∫p tr·∫ª em kh√°m ph√° th·∫ø gi·ªõi xung quanh. C√°c khu v·ª±c nh∆∞ b·∫£ng t∆∞∆°ng t√°c, m√¥ h√¨nh khoa h·ªçc v√† ngh·ªá thu·∫≠t kh√¥ng ch·ªâ thu h√∫t tr·∫ª m√† c√≤n mang ƒë·∫øn ki·∫øn th·ª©c b·ªï √≠ch, gi√∫p tr·∫ª ph√°t tri·ªÉn t∆∞ duy s√°ng t·∫°o.\n\nƒêi·ªÉm ƒë·∫∑c bi·ªát c·ªßa Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† kh√¥ng gian r·ªông r√£i, ƒë∆∞·ª£c thi·∫øt k·∫ø an to√†n cho tr·∫ª em, v·ªõi nhi·ªÅu tr√≤ ch∆°i ph√π h·ª£p cho m·ªçi l·ª©a tu·ªïi. ƒê√¢y l√† l·ª±a ch·ªçn tuy·ªát v·ªùi cho c√°c b·∫≠c ph·ª• huynh mong mu·ªën t√¨m m·ªôt n∆°i v·ª´a vui ch∆°i v·ª´a h·ªçc h·ªèi cho con c√°i m√† kh√¥ng c·∫ßn ph·∫£i di chuy·ªÉn xa.\n\nƒê·∫∑c bi·ªát, khu vui ch∆°i ƒë√£ ch√∫ tr·ªçng ƒë·∫øn vi·ªác c·∫£i thi·ªán c√°c ƒëi·ªÉm y·∫øu m√† m·ªôt s·ªë ng∆∞·ªùi d√πng ƒë√£ n√™u trong b√¨nh lu·∫≠n nh∆∞ s·ª± ƒë√¥ng ƒë√∫c hay thi·∫øu s·ª± ƒëa d·∫°ng trong c√°c ho·∫°t ƒë·ªông. Ban qu·∫£n l√Ω ƒë√£ ƒëi·ªÅu ch·ªânh l·ªãch tr√¨nh ho·∫°t ƒë·ªông v√† t·∫°o th√™m nhi·ªÅu ch∆∞∆°ng tr√¨nh m·ªõi ƒë·ªÉ ƒë·∫£m b·∫£o tr·∫£i nghi·ªám c·ªßa tr·∫ª em lu√¥n ƒë∆∞·ª£c phong ph√∫ v√† th√∫ v·ªã. V·ªõi s·ª± k·∫øt h·ª£p h√†i h√≤a gi·ªØa gi·∫£i tr√≠ v√† gi√°o d·ª•c, Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n th·ª±c s·ª± l√† m·ªôt n∆°i ƒë√°ng ƒë·ªÉ kh√°m ph√°.', 'price_ai_estimate': 500000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn th√∫ v·ªã v√† ƒë·∫ßy c·∫£m h·ª©ng, n·∫±m t·∫°i trung t√¢m H√† N·ªôi, n∆°i b·∫°n c√≥ th·ªÉ kh√°m ph√° c√°c kh√≠a c·∫°nh phong ph√∫ c·ªßa ƒë·ªùi s·ªëng v√† vƒÉn h√≥a ph·ª• n·ªØ Vi·ªát Nam qua c√°c th·ªùi k·ª≥. V·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i, b·∫£o t√†ng c√≥ nhi·ªÅu khu v·ª±c t∆∞∆°ng t√°c nh∆∞ c√°c g√≥c tr·∫£i nghi·ªám ngh·ªÅ th·ªß c√¥ng, n∆°i b·∫°n c√≥ th·ªÉ th·ª≠ s·ª©c v·ªõi c√°c ho·∫°t ƒë·ªông nh∆∞ d·ªát v·∫£i v√† g√≥i b√°nh. ƒêi·ªÅu n√†y l√†m cho b·∫£o t√†ng r·∫•t ph√π h·ª£p cho tr·∫ª em v√† c√°c gia ƒë√¨nh, n∆°i m·ªçi ng∆∞·ªùi c√≥ th·ªÉ tham gia v√†o c√°c ho·∫°t ƒë·ªông s√°ng t·∫°o c√πng nhau.\n\nM·ªôt trong nh·ªØng ƒëi·ªÉm n·ªïi b·∫≠t c·ªßa b·∫£o t√†ng l√† c√°c tri·ªÉn l√£m ƒëa d·∫°ng, ph·∫£n √°nh vai tr√≤ quan tr·ªçng c·ªßa ph·ª• n·ªØ trong x√£ h·ªôi, t·ª´ l·ªãch s·ª≠ cho ƒë·∫øn hi·ªán ƒë·∫°i. B·∫£o t√†ng c≈©ng mang ƒë·∫øn m·ªôt kh√¥ng gian th√¢n thi·ªán, gi√∫p ng∆∞·ªùi tham quan tho·∫£i m√°i v√† d·ªÖ d√†ng ti·∫øp c·∫≠n th√¥ng tin.\n\nSo v·ªõi nh·ªØng ƒë·ªãa ƒëi·ªÉm du l·ªãch ph·ªï bi·∫øn kh√°c, B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam mang ƒë·∫øn m·ªôt c√°i nh√¨n s√¢u s·∫Øc v√† phong ph√∫ h∆°n v·ªÅ vƒÉn h√≥a Vi·ªát, t·∫°o ra m·ªôt tr·∫£i nghi·ªám h·ªçc h·ªèi b·ªï √≠ch v√† th√∫ v·ªã. ƒê·∫∑c bi·ªát, nh·ªØng b√¨nh lu·∫≠n c·ªßa kh√°ch tham quan cho th·∫•y b·∫£o t√†ng r·∫•t ph√π h·ª£p v·ªõi tr·∫ª nh·ªè v√† d·ªÖ d√†ng ti·∫øp c·∫≠n, gi√∫p gia ƒë√¨nh c√≥ th·ªùi gian tham quan ng·∫Øn nh∆∞ng √Ω nghƒ©a. ƒê√¢y th·ª±c s·ª± l√†', 'price_ai_estimate': 150000.0}], 'query_used': '  in '}
2025-05-13 20:57:06,460 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 20:57:06,491 - app - INFO - All routers registered successfully
2025-05-13 20:57:06,493 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 20:57:27,982 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam, t·ªça l·∫°c t·∫°i H√† N·ªôi, l√† m·ªôt ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho nh·ªØng ai y√™u th√≠ch t√¨m hi·ªÉu v·ªÅ vƒÉn h√≥a v√† phong t·ª•c t·∫≠p qu√°n c·ªßa c√°c d√¢n t·ªôc Vi·ªát Nam. N∆°i ƒë√¢y kh√¥ng ch·ªâ n·ªïi b·∫≠t nh·ªù v√†o b·ªô s∆∞u t·∫≠p hi·ªán v·∫≠t ƒëa d·∫°ng m√† c√≤n b·ªüi c√°c m√¥ h√¨nh t∆∞∆°ng t√°c s·ªëng ƒë·ªông, t·∫°o c∆° h·ªôi cho du kh√°ch tham gia tr·∫£i nghi·ªám th·ª±c t·∫ø.\n\nM·ªôt trong nh·ªØng ƒëi·ªÉm ƒë·ªôc ƒë√°o c·ªßa b·∫£o t√†ng l√† c√°c khu v·ª±c ngo√†i tr·ªùi r·ªông r√£i, n∆°i tr·∫ª em c√≥ th·ªÉ t·ª± do kh√°m ph√°, h·ªçc h·ªèi qua ho·∫°t ƒë·ªông ch∆°i ƒë√πa. Nh·ªØng ng√¥i nh√† truy·ªÅn th·ªëng v√† c√°c kh√¥ng gian vƒÉn h√≥a ƒë∆∞·ª£c t√°i hi·ªán sinh ƒë·ªông c√†ng l√†m tƒÉng t√≠nh tr·∫£i nghi·ªám cho du kh√°ch. \n\nB·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam l√† m·ªôt l·ª±a ch·ªçn tuy·ªát v·ªùi cho nh·ªØng ai mu·ªën thay th·∫ø nh·ªØng ƒë·ªãa ƒëi·ªÉm du l·ªãch nh·ªôn nh·ªãp nh∆∞ng v·∫´n mu·ªën t√¨m hi·ªÉu s√¢u v·ªÅ b·∫£n s·∫Øc vƒÉn h√≥a d√¢n t·ªôc. T·∫°i ƒë√¢y, b·∫°n v√† gia ƒë√¨nh c√≥ th·ªÉ d√†nh tr·ªçn m·ªôt ng√†y ƒë·ªÉ v·ª´a tham quan, v·ª´a h·ªçc h·ªèi.\n\nƒê·∫∑c bi·ªát, t·ª´ ph·∫£n h·ªìi c·ªßa ng∆∞·ªùi d√πng, nhi·ªÅu ng∆∞·ªùi c·∫£m th·∫•y n∆°i n√†y ph√π h·ª£p cho tr·∫ª em v·ªõi c√°c ho·∫°t ƒë·ªông gi√°o d·ª•c t√≠ch c·ª±c, gi√∫p tr·∫ª hi·ªÉu r√µ h∆°n v·ªÅ vƒÉn h√≥a ƒëa d·∫°ng c·ªßa qu√™ h∆∞∆°ng. B·∫£o t√†ng ƒë·∫£m b·∫£o s·∫Ω mang ƒë·∫øn cho b·∫°n nh·ªØng tr·∫£i nghi·ªám th√∫ v·ªã v√† b·ªï √≠ch.', 'price_ai_estimate': 150000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': '**Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n: ƒêi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho gia ƒë√¨nh v√† tr·∫ª em**\n\nKhu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† m·ªôt kh√¥ng gian gi·∫£i tr√≠ ƒë·ªôc ƒë√°o, k·∫øt h·ª£p gi·ªØa c√°c tr√≤ ch∆°i vui nh·ªôn v√† b·∫£o t√†ng t∆∞∆°ng t√°c, mang ƒë·∫øn cho tr·∫ª em c∆° h·ªôi tr·∫£i nghi·ªám h·ªçc t·∫≠p th√∫ v·ªã. N∆°i ƒë√¢y kh√¥ng ch·ªâ ƒë∆°n gi·∫£n l√† m·ªôt c√¥ng vi√™n gi·∫£i tr√≠, m√† c√≤n l√† m·ªôt trung t√¢m gi√°o d·ª•c, gi√∫p tr·∫ª em ph√°t tri·ªÉn t∆∞ duy th√¥ng qua c√°c ho·∫°t ƒë·ªông nh∆∞ th√≠ nghi·ªám khoa h·ªçc, kh√°m ph√° ngh·ªá thu·∫≠t v√† l·ªãch s·ª≠.\n\nƒêi·ªÉm ƒë·∫∑c bi·ªát c·ªßa khu vui ch∆°i l√† s·ª± ƒëa d·∫°ng c·ªßa c√°c tr√≤ ch∆°i, t·ª´ nh·ªØng chi·∫øc c·∫ßu tr∆∞·ª£t hi·ªán ƒë·∫°i cho ƒë·∫øn nh·ªØng khu v·ª±c t∆∞∆°ng t√°c gi√°o d·ª•c nh∆∞ b·∫£o t√†ng khoa h·ªçc. ƒêi·ªÅu n√†y gi√∫p tr·∫ª em kh√¥ng ch·ªâ vui ch∆°i m√† c√≤n hi·ªÉu bi·∫øt th√™m v·ªÅ th·∫ø gi·ªõi xung quanh.\n\nB√™n c·∫°nh ƒë√≥, khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† m·ªôt l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho c√°c gia ƒë√¨nh t√¨m ki·∫øm m·ªôt kh√¥ng gian an to√†n v√† b·ªï √≠ch cho con c√°i. V·ªõi vi·ªác ƒë√£ ƒë∆∞·ª£c c·∫£i thi·ªán v√† ch√∫ tr·ªçng ƒë·∫øn v·∫•n ƒë·ªÅ an to√†n, khu v·ª±c vui ch∆°i lu√¥n ƒë·∫£m b·∫£o s·ª©c kh·ªèe v√† an to√†n cho tr·∫ª em trong qu√° tr√¨nh tr·∫£i nghi·ªám.\n\nThi√™n ƒë∆∞·ªùng B·∫£o S∆°n gi·∫£i quy·∫øt m·ªëi quan t√¢m c·ªßa ph·ª• huynh b·∫±ng c√°ch cung c·∫•p m·ªôt m√¥i tr∆∞·ªùng s·∫°ch s·∫Ω, d·ªÖ d√†ng di chuy·ªÉn v√† gi√°m s√°t tr·∫ª. ƒê√¢y th·ª±c s·ª±', 'price_ai_estimate': 500000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn ƒë·ªôc ƒë√°o t·∫°i H√† N·ªôi, n∆°i l∆∞u gi·ªØ v√† tr∆∞ng b√†y nh·ªØng gi√° tr·ªã vƒÉn h√≥a, l·ªãch s·ª≠ c·ªßa ph·ª• n·ªØ Vi·ªát Nam qua c√°c th·ªùi k·ª≥. B·∫£o t√†ng kh√¥ng ch·ªâ n·ªïi b·∫≠t v·ªõi ki·∫øn tr√∫c hi·ªán ƒë·∫°i m√† c√≤n v·ªõi c√°c khu v·ª±c t∆∞∆°ng t√°c th√∫ v·ªã, gi√∫p ng∆∞·ªùi tham quan tr·∫£i nghi·ªám tr·ª±c ti·∫øp c√°c ho·∫°t ƒë·ªông li√™n quan ƒë·∫øn cu·ªôc s·ªëng v√† c√¥ng vi·ªác c·ªßa ph·ª• n·ªØ t·ª´ qu√° kh·ª© ƒë·∫øn hi·ªán t·∫°i.\n\nƒêi·ªÅu ƒë·∫∑c bi·ªát c·ªßa B·∫£o t√†ng l√† c√°c tri·ªÉn l√£m ƒë∆∞·ª£c thi·∫øt k·∫ø th√¢n thi·ªán v·ªõi tr·∫ª em v√† gia ƒë√¨nh, bao g·ªìm c√°c g√≥c ch∆°i, tr√≤ ch∆°i t∆∞∆°ng t√°c v√† ho·∫°t ƒë·ªông ngh·ªá thu·∫≠t. ƒê√¢y l√† m·ªôt l·ª±a ch·ªçn thay th·∫ø tuy·ªát v·ªùi cho nh·ªØng ai mu·ªën t√¨m hi·ªÉu v·ªÅ vƒÉn h√≥a v√† l·ªãch s·ª≠ m·ªôt c√°ch sinh ƒë·ªông m√† kh√¥ng c·∫ßn ph·∫£i d√†nh nhi·ªÅu th·ªùi gian nh∆∞ nh·ªØng b·∫£o t√†ng kh√°c.\n\nB·∫£o t√†ng c√≤n ch√∫ tr·ªçng ƒë·∫øn nh·ªØng ph·∫£n h·ªìi t·ª´ ng∆∞·ªùi d√πng, x√¢y d·ª±ng kh√¥ng gian th√¥ng tho√°ng, s·∫°ch s·∫Ω v√† d·ªÖ ti·∫øp c·∫≠n, ƒë·∫£m b·∫£o m·ªçi ng∆∞·ªùi t·ª´ tr·∫ª em ƒë·∫øn ng∆∞·ªùi l·ªõn ƒë·ªÅu c√≥ th·ªÉ tham quan tho·∫£i m√°i. C√°c ch∆∞∆°ng tr√¨nh gi√°o d·ª•c v√† s·ª± ki·ªán th∆∞·ªùng xuy√™n ƒë∆∞·ª£c t·ªï ch·ª©c nh·∫±m ƒë√°p ·ª©ng nhu c·∫ßu h·ªçc h·ªèi v√† kh√°m ph√° c·ªßa gia ƒë√¨nh. V·ªõi s·ª± ƒëa d·∫°ng trong n·ªôi dung, B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam h·ª©a h·∫πn s·∫Ω mang ƒë·∫øn nh·ªØng tr·∫£i nghi·ªám ƒë√°ng nh·ªõ cho m·ªçi ng∆∞·ªùi.', 'price_ai_estimate': 150000.0}], 'query_used': '  in '}
2025-05-13 21:00:36,076 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 21:00:36,106 - app - INFO - All routers registered successfully
2025-05-13 21:00:53,288 - __mp_main__ - ERROR - Error registering routers: unmatched ')' (comment_agent.py, line 321)
Traceback (most recent call last):
  File "/Users/doa_ai/Developer/Grab-project/ai/model/app.py", line 31, in register_routers
    from src.services.comment_api import router as comment_router
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/services/comment_api.py", line 6, in <module>
    from src.agents.comment_agent import CommentAgent
  File "/Users/doa_ai/Developer/Grab-project/ai/model/src/agents/comment_agent.py", line 321
    printf"Querying {suggestion_type} database with query: {query}")
                                                                   ^
SyntaxError: unmatched ')'
2025-05-13 21:00:59,754 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 21:00:59,773 - app - INFO - All routers registered successfully
2025-05-13 21:00:59,775 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 21:01:25,023 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam, m·ªôt trong nh·ªØng ƒëi·ªÉm ƒë·∫øn ƒë·∫∑c s·∫Øc t·∫°i H√† N·ªôi, l√† n∆°i l∆∞u gi·ªØ v√† tr∆∞ng b√†y nh·ªØng gi√° tr·ªã vƒÉn h√≥a ƒëa d·∫°ng c·ªßa 54 d√¢n t·ªôc anh em. V·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i, b·∫£o t√†ng kh√¥ng ch·ªâ t·∫≠p trung v√†o vi·ªác tr∆∞ng b√†y hi·ªán v·∫≠t m√† c√≤n mang ƒë·∫øn tr·∫£i nghi·ªám t∆∞∆°ng t√°c th√¥ng qua c√°c m√¥ h√¨nh 3D s·ªëng ƒë·ªông, gi√∫p ng∆∞·ªùi tham quan d·ªÖ d√†ng ti·∫øp c·∫≠n v√† hi·ªÉu r√µ h∆°n v·ªÅ ƒë·ªùi s·ªëng, phong t·ª•c t·∫≠p qu√°n c·ªßa c√°c d√¢n t·ªôc.\n\nM·ªôt ƒëi·ªÉm ƒë·∫∑c bi·ªát c·ªßa b·∫£o t√†ng l√† khu v·ª±c ngo√†i tr·ªùi r·ªông r√£i, n∆°i tr·∫ª em c√≥ th·ªÉ ch∆°i ƒë√πa v√† kh√°m ph√° c√°c c√¥ng tr√¨nh d√¢n t·ªôc h·ªçc nh∆∞ nh√† ·ªü, trang ph·ª•c v√† nh·∫°c c·ª•. ƒêi·ªÅu n√†y t·∫°o n√™n m·ªôt kh√¥ng gian tuy·ªát v·ªùi cho gia ƒë√¨nh, gi√∫p tr·∫ª nh·ªè v·ª´a h·ªçc h·ªèi v·ª´a vui ch∆°i trong m·ªôt m√¥i tr∆∞·ªùng an to√†n.\n\nN·∫øu b·∫°n ƒëang t√¨m ki·∫øm m·ªôt ƒë·ªãa ƒëi·ªÉm thay th·∫ø cho c√°c ƒëi·ªÉm tham quan kh√°c, b·∫£o t√†ng ch√≠nh l√† l·ª±a ch·ªçn ho√†n h·∫£o ƒë·ªÉ v·ª´a th∆∞ gi√£n v·ª´a thu th·∫≠p ki·∫øn th·ª©c. C√°c √Ω ki·∫øn t·ª´ ng∆∞·ªùi d√πng ƒë·ªÅu nh·∫•n m·∫°nh s·ª± th√¢n thi·ªán v√† s·ª± d·ªÖ d√†ng trong vi·ªác t∆∞∆°ng t√°c v·ªõi c√°c hi·ªán v·∫≠t, gi√∫p h·ªç c·∫£m nh·∫≠n ƒë∆∞·ª£c vƒÉn h√≥a Vi·ªát Nam m·ªôt c√°ch s·ªëng ƒë·ªông.\n\nH√£y ƒë·∫øn B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam ƒë·ªÉ c√≥ nh·ªØng tr·∫£i nghi·ªám ƒë√°ng nh·ªõ v·ªÅ b·∫£n s·∫Øc vƒÉn h√≥a phong ph√∫', 'price_ai_estimate': 100000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': '**Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n**\n\nKhu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† m·ªôt ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho gia ƒë√¨nh c√≥ tr·∫ª nh·ªè, k·∫øt h·ª£p gi·ªØa gi·∫£i tr√≠ v√† gi√°o d·ª•c trong kh√¥ng gian thi√™n nhi√™n xanh m√°t. ƒêi·ªÉm n·ªïi b·∫≠t c·ªßa khu vui ch∆°i n√†y l√† b·∫£o t√†ng t∆∞∆°ng t√°c, n∆°i tr·∫ª em c√≥ th·ªÉ kh√°m ph√° v√† h·ªçc h·ªèi th√¥ng qua c√°c ho·∫°t ƒë·ªông th·ª±c h√†nh s√°ng t·∫°o. Nh·ªØng tr·∫£i nghi·ªám n√†y kh√¥ng ch·ªâ gi√∫p tr·∫ª ph√°t tri·ªÉn ki·∫øn th·ª©c m√† c√≤n kh∆°i d·∫≠y s·ª± t√≤ m√≤ v√† s√°ng t·∫°o.\n\nV·ªõi nhi·ªÅu tr√≤ ch∆°i th√∫ v·ªã nh∆∞ ƒëu quay, t√†u l∆∞·ª£n, c√πng nh·ªØng khu v·ª±c vui ch∆°i n∆∞·ªõc, Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† m·ªôt l·ª±a ch·ªçn thay th·∫ø ho√†n h·∫£o cho nh·ªØng khu vui ch∆°i ƒë∆°n thu·∫ßn. Kh√¥ng ch·ªâ gi·∫£i tr√≠, n∆°i ƒë√¢y c√≤n ch·ª©a ƒë·ª±ng nhi·ªÅu ch∆∞∆°ng tr√¨nh gi√°o d·ª•c h·∫•p d·∫´n, gi√∫p tr·∫ª hi·ªÉu bi·∫øt v·ªÅ th·∫ø gi·ªõi xung quanh m·ªôt c√°ch t·ª± nhi√™n v√† vui v·∫ª.\n\nTh√™m v√†o ƒë√≥, khu vui ch∆°i ƒë√£ l·∫Øng nghe c√°c √Ω ki·∫øn c·ªßa ph·ª• huynh v√† c·∫£i thi·ªán c∆° s·ªü v·∫≠t ch·∫•t c≈©ng nh∆∞ d·ªãch v·ª• chƒÉm s√≥c tr·∫ª. Nh√¢n vi√™n th√¢n thi·ªán v√† t·∫≠n t√¢m, c√πng v·ªõi h·ªá th·ªëng an to√†n nghi√™m ng·∫∑t, ƒë√£ t·∫°o ra m√¥i tr∆∞·ªùng an to√†n cho tr·∫ª em vui ch∆°i. Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n th·ª±c s·ª± l√† m·ªôt n∆°i t√≠ch h·ª£p tuy·ªát v·ªùi gi·ªØa gi·∫£i tr√≠ v√† gi√°o d·ª•c, gi√∫p tr·∫ª nh·ªè vui', 'price_ai_estimate': 500000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn ƒë·ªôc ƒë√°o, k·∫øt h·ª£p gi·ªØa ki·∫øn th·ª©c vƒÉn h√≥a v√† tr·∫£i nghi·ªám t∆∞∆°ng t√°c th√∫ v·ªã. ƒêi·ªÉm ƒë·∫∑c bi·ªát c·ªßa b·∫£o t√†ng l√† c√°c khu v·ª±c tri·ªÉn l√£m ƒë∆∞·ª£c thi·∫øt k·∫ø ch√∫ tr·ªçng ƒë·∫øn s·ª± gi√°o d·ª•c v√† tr·∫£i nghi·ªám c·ªßa gia ƒë√¨nh, ƒë·∫∑c bi·ªát l√† d√†nh cho tr·∫ª em. Tr·∫ª nh·ªè c√≥ th·ªÉ t√¨m hi·ªÉu v·ªÅ vai tr√≤ v√† ƒë√≥ng g√≥p c·ªßa ph·ª• n·ªØ trong l·ªãch s·ª≠ v√† vƒÉn h√≥a Vi·ªát Nam th√¥ng qua c√°c ho·∫°t ƒë·ªông t∆∞∆°ng t√°c, tr√≤ ch∆°i v√† m√¥ h√¨nh sinh ƒë·ªông.\n\nB·∫£o t√†ng n√†y c≈©ng l√† m·ªôt l·ª±a ch·ªçn tuy·ªát v·ªùi cho nh·ªØng ai mu·ªën t√¨m hi·ªÉu v·ªÅ vƒÉn h√≥a m√† kh√¥ng ph·∫£i d√†nh nhi·ªÅu th·ªùi gian. Th·ªùi gian tham quan ng·∫Øn, ch·ªâ t·ª´ 1-2 gi·ªù, gi√∫p c√°c gia ƒë√¨nh ti·∫øt ki·ªám th·ªùi gian trong l·ªãch tr√¨nh kh√°m ph√° th√†nh ph·ªë m√† v·∫´n c√≥ tr·∫£i nghi·ªám b·ªï √≠ch v√† th√∫ v·ªã.\n\nƒê·∫∑c bi·ªát, B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam ƒë√£ l·∫Øng nghe nh·ªØng ph·∫£n h·ªìi t·ª´ ng∆∞·ªùi d√πng khi t·∫°o ra c√°c kh√¥ng gian tho·∫£i m√°i, th√¢n thi·ªán v√† d·ªÖ ti·∫øp c·∫≠n cho t·∫•t c·∫£ m·ªçi ng∆∞·ªùi. C√°c tri·ªÉn l√£m ƒë∆∞·ª£c thi·∫øt k·∫ø h·∫•p d·∫´n, gi√∫p ng∆∞·ªùi xem d·ªÖ d√†ng hi·ªÉu v√† k·∫øt n·ªëi v·ªõi n·ªôi dung, t·ª´ ƒë√≥ gi·∫£i quy·∫øt m·ªëi quan t√¢m v·ªÅ ƒë·ªô kh√≥ c≈©ng nh∆∞ s·ª± thu h√∫t c·ªßa c√°c th√¥ng tin. ƒê√¢y th·ª±c s·ª± l√† m·ªôt ƒëi·ªÉm ƒë·∫øn kh√¥ng n√™n b·ªè qua cho c√°c gia ƒë√¨nh v√† nh·ªØng ai y√™u th√≠ch vƒÉn h√≥a Vi·ªát.', 'price_ai_estimate': 200000.0}], 'query_used': '  in '}
2025-05-13 21:05:31,360 - __main__ - INFO - All routers registered successfully
2025-05-13 21:05:36,495 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 21:05:36,515 - app - INFO - All routers registered successfully
2025-05-13 21:05:38,529 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 21:06:01,914 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho nh·ªØng ai mu·ªën t√¨m hi·ªÉu v·ªÅ vƒÉn h√≥a phong ph√∫ c·ªßa c√°c d√¢n t·ªôc t·∫°i Vi·ªát Nam. N∆°i ƒë√¢y n·ªïi b·∫≠t v·ªõi c√°c m√¥ h√¨nh v√† hi·ªán v·∫≠t ƒë∆∞·ª£c s·∫Øp ƒë·∫∑t m·ªôt c√°ch t∆∞∆°ng t√°c, gi√∫p du kh√°ch c√≥ c∆° h·ªôi tr·ª±c ti·∫øp tr·∫£i nghi·ªám v√† kh√°m ph√° n√©t ƒë·ªôc ƒë√°o c·ªßa t·ª´ng n·ªÅn vƒÉn h√≥a. B·∫£o t√†ng c√≥ khu v·ª±c ngo√†i tr·ªùi r·ªông r√£i, n∆°i tr·∫ª em c√≥ th·ªÉ vui ch∆°i v√† h·ªçc h·ªèi qua c√°c ho·∫°t ƒë·ªông s√¥i n·ªïi, k·∫øt h·ª£p gi·ªØa gi·∫£i tr√≠ v√† gi√°o d·ª•c.\n\nM·ªôt trong nh·ªØng ƒëi·ªÉm m·∫°nh c·ªßa b·∫£o t√†ng l√† vi·ªác t·∫°o ra kh√¥ng gian th√¢n thi·ªán v√† d·ªÖ ti·∫øp c·∫≠n cho t·∫•t c·∫£ m·ªçi ng∆∞·ªùi, ƒë·∫∑c bi·ªát l√† gia ƒë√¨nh c√≥ tr·∫ª nh·ªè. So v·ªõi c√°c ƒëi·ªÉm tham quan kh√°c, ƒë√¢y l√† l·ª±a ch·ªçn t·ªët b·ªüi v√¨ n√≥ kh√¥ng ch·ªâ mang ƒë·∫øn ki·∫øn th·ª©c b·ªï √≠ch m√† c√≤n khuy·∫øn kh√≠ch s·ª± s√°ng t·∫°o v√† kh√°m ph√° c·ªßa tr·∫ª em.\n\nB·∫£o t√†ng c≈©ng ch√∫ √Ω ƒë·∫øn nh·ªØng ph·∫£n h·ªìi t·ª´ du kh√°ch v·ªõi c√°c khu v·ª±c tr∆∞ng b√†y hi·ªán ƒë·∫°i v√† phong ph√∫, gi√∫p gi·∫£m b·ªõt s·ª± nh√†m ch√°n khi tham quan. C√°c g√≥c t∆∞∆°ng t√°c ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ m·ªói ng∆∞·ªùi c√≥ th·ªÉ tham gia v√† t√¨m hi·ªÉu, l√†m gi·∫£m lo l·∫Øng v·ªÅ vi·ªác kh√¥ng ƒë·ªß th√¥ng tin hay tr·∫£i nghi·ªám. T√≥m l·∫°i, B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam th·ª±c s·ª± l√† m·ªôt n∆°i tuy·ªát v·ªùi cho', 'price_ai_estimate': 150000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n l√† m·ªôt ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho gia ƒë√¨nh, ƒë·∫∑c bi·ªát l√† cho tr·∫ª em v·ªõi s·ª± k·∫øt h·ª£p ho√†n h·∫£o gi·ªØa vui ch∆°i gi·∫£i tr√≠ v√† gi√°o d·ª•c. N∆°i ƒë√¢y kh√¥ng ch·ªâ ƒë∆°n thu·∫ßn l√† m·ªôt c√¥ng vi√™n gi·∫£i tr√≠ m√† c√≤n l√† m·ªôt b·∫£o t√†ng t∆∞∆°ng t√°c ƒë·ªôc ƒë√°o, gi√∫p tr·∫ª em kh√°m ph√° v√† h·ªçc h·ªèi. \n\nM·ªôt trong nh·ªØng t√≠nh nƒÉng n·ªïi b·∫≠t c·ªßa khu vui ch∆°i l√† c√°c ho·∫°t ƒë·ªông gi√°o d·ª•c phong ph√∫, t·ª´ ch∆∞∆°ng tr√¨nh kh√°m ph√° khoa h·ªçc ƒë·∫øn ngh·ªá thu·∫≠t s√°ng t·∫°o. Tr·∫ª em c√≥ th·ªÉ tham gia v√†o c√°c tr·∫£i nghi·ªám th·ª±c t·∫ø, nh∆∞ l√†m khoa h·ªçc gia nh·ªè hay ngh·ªá s·ªπ mini. C√°c khu v·ª±c gi·∫£i tr√≠ ƒëa d·∫°ng, t·ª´ c√°c tr√≤ ch∆°i m·∫°o hi·ªÉm ƒë·∫øn c√°c bu·ªïi bi·ªÉu di·ªÖn vƒÉn h√≥a, h·ª©a h·∫πn mang ƒë·∫øn ni·ªÅm vui v√† s·ª± h·ª©ng kh·ªüi cho c·∫£ gia ƒë√¨nh.\n\nThi√™n ƒë∆∞·ªùng B·∫£o S∆°n c≈©ng l√† l·ª±a ch·ªçn thay th·∫ø t·ªët cho nh·ªØng b·∫≠n r·ªôn nh∆∞ c√¥ng vi√™n gi·∫£i tr√≠ th√¥ng th∆∞·ªùng, b·ªüi n√≥ kh√¥ng ch·ªâ gi√∫p tr·∫ª vui ch∆°i m√† c√≤n h·ªó tr·ª£ ph√°t tri·ªÉn k·ªπ nƒÉng v√† ki·∫øn th·ª©c. \n\nNh·ªØng m·ªëi quan t√¢m t·ª´ b√¨nh lu·∫≠n c·ªßa ng∆∞·ªùi d√πng v·ªÅ kh√¥ng gian an to√†n v√† ch·∫•t l∆∞·ª£ng d·ªãch v·ª• ƒë√£ ƒë∆∞·ª£c khu vui ch∆°i ch√∫ tr·ªçng. V·ªõi c√°c trang thi·∫øt b·ªã hi·ªán ƒë·∫°i, c√πng ƒë·ªôi ng≈© nh√¢n vi√™n th√¢n thi·ªán v√† chuy√™n nghi·ªáp, Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n cam k·∫øt mang ƒë·∫øn m√¥i tr∆∞·ªùng vui ch∆°i an to√†n v√† l√†nh', 'price_ai_estimate': 500000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn ƒë·ªôc ƒë√°o, mang ƒë·∫øn c√°i nh√¨n s√¢u s·∫Øc v·ªÅ vai tr√≤ c·ªßa ph·ª• n·ªØ trong x√£ h·ªôi v√† l·ªãch s·ª≠ Vi·ªát Nam. V·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i v√† kh√¥ng gian t∆∞∆°ng t√°c phong ph√∫, b·∫£o t√†ng kh√¥ng ch·ªâ d√†nh cho ng∆∞·ªùi l·ªõn m√† c√≤n r·∫•t ph√π h·ª£p cho tr·∫ª em v√† gia ƒë√¨nh. C√°c tri·ªÉn l√£m t·∫°i ƒë√¢y ƒë∆∞·ª£c s·∫Øp ƒë·∫∑t h·∫•p d·∫´n, cho ph√©p kh√°ch tham quan hi·ªÉu r√µ h∆°n v·ªÅ nh·ªØng ƒë√≥ng g√≥p v√† ngh·ªã l·ª±c c·ªßa ph·ª• n·ªØ qua c√°c th·ªùi k·ª≥, t·ª´ vi·ªác chƒÉm s√≥c gia ƒë√¨nh ƒë·∫øn nh·ªØng th√†nh t·ª±u l·ªãch s·ª≠ quan tr·ªçng.\n\n·ªû ƒë√¢y, du kh√°ch c√≥ th·ªÉ kh√°m ph√° nh·ªØng c√¢u chuy·ªán s·ªëng ƒë·ªông v·ªÅ ph·ª• n·ªØ Vi·ªát Nam th√¥ng qua c√°c hi·ªán v·∫≠t, h√¨nh ·∫£nh v√† tr·∫£i nghi·ªám t∆∞∆°ng t√°c. ƒêi·ªÅu ƒë·∫∑c bi·ªát l√† b·∫£o t√†ng lu√¥n t·∫°o ƒëi·ªÅu ki·ªán cho tr·∫ª em tham gia c√°c ho·∫°t ƒë·ªông vui t∆∞∆°i, gi√∫p c√°c em v·ª´a h·ªçc v·ª´a ch∆°i.\n\nKh√°c v·ªõi c√°c ƒëi·ªÉm tham quan kh√°c th∆∞·ªùng y√™u c·∫ßu th·ªùi gian tham quan d√†i, B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam c√≥ th·ªÉ ho√†n t·∫•t tham quan trong th·ªùi gian ng·∫Øn, r·∫•t ph√π h·ª£p cho nh·ªØng chuy·∫øn ƒëi gia ƒë√¨nh. Ngo√†i ra, b·∫£o t√†ng c≈©ng ch√∫ tr·ªçng ƒë·∫øn vi·ªác ƒë√°p ·ª©ng nh·ªØng m·ªëi quan ng·∫°i t·ª´ ng∆∞·ªùi d√πng v·ªõi c√°c khu v·ª±c tho√°ng ƒë√£ng, d·ªÖ di chuy·ªÉn, v√† c√°c ho·∫°t ƒë·ªông th√∫ v·ªã d√†nh cho tr·∫ª em, t·∫°o n√™n m·ªôt tr·∫£i nghi·ªám tho·∫£i m√°i v√† b·ªï √≠ch cho m·ªçi th√†nh vi√™n', 'price_ai_estimate': 150000.0}], 'query_used': '  in '}
2025-05-13 21:06:29,395 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 21:06:29,417 - app - INFO - All routers registered successfully
2025-05-13 21:06:50,502 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 21:06:50,694 - app - INFO - All routers registered successfully
2025-05-13 21:07:02,904 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 21:07:02,920 - app - INFO - All routers registered successfully
2025-05-13 21:07:02,921 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 21:07:26,864 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': '**B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam** l√† m·ªôt trong nh·ªØng ƒëi·ªÉm ƒë·∫øn th√∫ v·ªã t·∫°i H√† N·ªôi, n∆°i l∆∞u gi·ªØ v√† tr∆∞ng b√†y nh·ªØng gi√° tr·ªã vƒÉn h√≥a ƒë·∫∑c s·∫Øc c·ªßa 54 d√¢n t·ªôc Vi·ªát Nam. V·ªõi kh√¥ng gian r·ªông r√£i, b·∫£o t√†ng kh√¥ng ch·ªâ c√≥ c√°c hi·ªán v·∫≠t, m√¥ h√¨nh s·ªëng ƒë·ªông m√† c√≤n c√≥ nh·ªØng khu v·ª±c ngo√†i tr·ªùi cho tr·∫ª em kh√°m ph√° v√† vui ch∆°i.\n\nƒêi·ªÉm ƒë·ªôc ƒë√°o c·ªßa b·∫£o t√†ng l√† c√°c khu tr∆∞ng b√†y t∆∞∆°ng t√°c, cho ph√©p du kh√°ch kh√¥ng ch·ªâ quan s√°t m√† c√≤n tham gia v√†o c√°c ho·∫°t ƒë·ªông tr·∫£i nghi·ªám vƒÉn h√≥a th·ª±c t·∫ø. Nh·ªØng ng√¥i nh√† truy·ªÅn th·ªëng nh∆∞ nh√† s√†n c·ªßa c√°c d√¢n t·ªôc mi·ªÅn n√∫i hay nh√† m·ªì c·ªßa ng∆∞·ªùi ChƒÉm ƒë∆∞·ª£c ph·ª•c d·ª±ng chi ti·∫øt gi√∫p b·∫°n hi·ªÉu r√µ h∆°n v·ªÅ ƒë·ªùi s·ªëng v√† phong t·ª•c t·∫≠p qu√°n c·ªßa c√°c d√¢n t·ªôc.\n\nB·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam l√† l·ª±a ch·ªçn l√Ω t∆∞·ªüng cho gia ƒë√¨nh, v·ªõi kh√¥ng gian th·ªèa m√°i ƒë·ªÉ tr·∫ª em c√≥ th·ªÉ ch·∫°y nh·∫£y v√† kh√°m ph√°. ƒêi·ªÅu n√†y gi·∫£i quy·∫øt nh·ªØng m·ªëi lo ng·∫°i v·ªÅ s·ª± nh√†m ch√°n khi tham quan, b·∫±ng vi·ªác cung c·∫•p nh·ªØng ho·∫°t ƒë·ªông v·ª´a h·ªçc v·ª´a ch∆°i. N·∫øu b·∫°n ƒëang t√¨m ki·∫øm m·ªôt tr·∫£i nghi·ªám vƒÉn h√≥a phong ph√∫ m√† v·∫´n vui v·∫ª cho c·∫£ gia ƒë√¨nh, ƒë√¢y ch√≠nh l√† ƒëi·ªÉm ƒë·∫øn kh√¥ng th·ªÉ b·ªè l·ª°.', 'price_ai_estimate': 150000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': '**Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n** l√† m·ªôt ƒë·ªãa ƒëi·ªÉm l√Ω t∆∞·ªüng cho c√°c b·∫≠c ph·ª• huynh v√† tr·∫ª em, k·∫øt h·ª£p gi·ªØa gi·∫£i tr√≠ v√† gi√°o d·ª•c m·ªôt c√°ch h√†i h√≤a. N·ªïi b·∫≠t nh·∫•t t·∫°i ƒë√¢y l√† b·∫£o t√†ng t∆∞∆°ng t√°c, n∆°i tr·∫ª em c√≥ th·ªÉ kh√°m ph√° v√† h·ªçc h·ªèi th√¥ng qua nh·ªØng ho·∫°t ƒë·ªông tr·∫£i nghi·ªám th·ª±c t·∫ø. C√°c khu v·ª±c ch∆°i phong ph√∫ nh∆∞ tr√≤ ch∆°i m·∫°o hi·ªÉm, c√¥ng vi√™n n∆∞·ªõc, v√† khu vui ch∆°i ngo√†i tr·ªùi gi√∫p tr·∫ª th·ªèa s·ª©c vui ƒë√πa, ph√°t tri·ªÉn k·ªπ nƒÉng x√£ h·ªôi v√† th·ªÉ ch·∫•t.\n\nKhu vui ch∆°i n√†y l√† l·ª±a ch·ªçn thay th·∫ø ho√†n h·∫£o cho c√°c h√¨nh th·ª©c gi·∫£i tr√≠ ƒë∆°n ƒëi·ªáu, ƒë·∫∑c bi·ªát khi c√°c √¥ng b·ªë b√† m·∫π ƒëang t√¨m ki·∫øm m·ªôt n∆°i v·ª´a an to√†n v·ª´a b·ªï √≠ch cho con c√°i. Nh·ªØng tr·∫£i nghi·ªám th√∫ v·ªã t·∫°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n kh√¥ng ch·ªâ gi√∫p tr·∫ª em gi·∫£i tr√≠ m√† c√≤n ph√°t tri·ªÉn t∆∞ duy s√°ng t·∫°o v√† k·ªπ nƒÉng gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ th√¥ng qua c√°c tr√≤ ch∆°i tr√≠ tu·ªá.\n\nNgo√†i ra, khu vui ch∆°i ch√∫ tr·ªçng ƒë·∫øn c√°c ƒë√°nh gi√° t·ª´ ph√≠a ng∆∞·ªùi d√πng, v·ªõi nh·ªØng c·∫£i ti·∫øn trong vi·ªác duy tr√¨ v·ªá sinh v√† an to√†n cho tr·∫ª nh·ªè. ƒê·ªôi ng≈© nh√¢n vi√™n th√¢n thi·ªán v√† chuy√™n nghi·ªáp s·∫µn s√†ng h·ªó tr·ª£, gi√∫p ph·ª• huynh y√™n t√¢m khi cho tr·∫ª tham gia c√°c ho·∫°t ƒë·ªông. V·ªõi m√¥i tr∆∞·ªùng an to√†n, gi√°o d·ª•c, v√† vui t∆∞∆°i, Khu vui ch∆°i Thi√™n', 'price_ai_estimate': 350000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': '**B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam**\n\nB·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam n·∫±m t·∫°i trung t√¢m H√† N·ªôi, l√† m·ªôt ƒëi·ªÉm ƒë·∫øn l√Ω t∆∞·ªüng cho nh·ªØng ai mu·ªën t√¨m hi·ªÉu v·ªÅ vai tr√≤ v√† ƒë√≥ng g√≥p c·ªßa ph·ª• n·ªØ trong x√£ h·ªôi Vi·ªát Nam qua c√°c th·ªùi k·ª≥. V·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i, b·∫£o t√†ng kh√¥ng ch·ªâ mang ƒë·∫øn tr·∫£i nghi·ªám tham quan d·ªÖ ti·∫øp c·∫≠n m√† c√≤n c√≥ nhi·ªÅu khu v·ª±c t∆∞∆°ng t√°c th√∫ v·ªã, ph√π h·ª£p cho c·∫£ gia ƒë√¨nh, ƒë·∫∑c bi·ªát l√† tr·∫ª em.\n\nƒêi·ªÅu l√†m cho b·∫£o t√†ng tr·ªü n√™n ƒë·ªôc ƒë√°o l√† c√°c tri·ªÉn l√£m ƒëa d·∫°ng, t·ª´ l·ªãch s·ª≠ vƒÉn h√≥a ƒë·∫øn ngh·ªá thu·∫≠t v√† th·ªß c√¥ng truy·ªÅn th·ªëng, t·∫•t c·∫£ ƒë·ªÅu ƒë∆∞·ª£c tr√¨nh b√†y m·ªôt c√°ch sinh ƒë·ªông. Nh·ªØng g√≥c t∆∞∆°ng t√°c cho ph√©p ng∆∞·ªùi xem tham gia v√† tr·∫£i nghi·ªám th·ª±c t·∫ø, gi√∫p c√°c em nh·ªè d·ªÖ d√†ng ti·∫øp thu ki·∫øn th·ª©c. \n\nB·∫£o t√†ng c≈©ng l√† l·ª±a ch·ªçn tuy·ªát v·ªùi cho nh·ªØng ai mu·ªën t√¨m ki·∫øm m·ªôt ho·∫°t ƒë·ªông gi√°o d·ª•c v√† gi·∫£i tr√≠ trong th·ªùi gian ng·∫Øn. Du kh√°ch kh√¥ng ch·ªâ c√≥ ƒë∆∞·ª£c c√°i nh√¨n s√¢u s·∫Øc v·ªÅ s·ª± ph√°t tri·ªÉn c·ªßa ph·ª• n·ªØ m√† c√≤n c√≥ th·ªÉ r√∫t ng·∫Øn th·ªùi gian tham quan so v·ªõi c√°c b·∫£o t√†ng l·ªõn kh√°c. \n\nNgo√†i ra, b·∫£o t√†ng ch√∫ tr·ªçng ƒë·∫øn c√°c ph·∫£n h·ªìi t·ª´ kh√°ch tham quan. Nhi·ªÅu ng∆∞·ªùi ƒë√°nh gi√° cao s·ª± th√¢n thi·ªán v√† d·ªÖ hi·ªÉu c·ªßa c√°c tri·ªÉn l√£m, gi√∫p m·ªçi ng∆∞·ªùi, t·ª´ tr·∫ª em ƒë·∫øn ng∆∞·ªùi l·ªõn, d·ªÖ d√†ng k·∫øt n·ªëi', 'price_ai_estimate': 150000.0}], 'query_used': '  in '}
2025-05-13 21:08:42,707 - __mp_main__ - INFO - All routers registered successfully
2025-05-13 21:08:42,721 - app - INFO - All routers registered successfully
2025-05-13 21:08:42,722 - src.services.comment_api - INFO - Received raw trip plan request: dict_keys(['travel_preference', 'activity'])
2025-05-13 21:09:02,886 - src.services.comment_api - INFO - Response: {'suggestion_type': 'place', 'suggestion_list': [{'id': 'place_001117', 'name': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam', 'description': 'B·∫£o t√†ng D√¢n t·ªôc h·ªçc Vi·ªát Nam, t·ªça l·∫°c t·∫°i H√† N·ªôi, l√† m·ªôt ƒëi·ªÉm ƒë·∫øn h·∫•p d·∫´n cho nh·ªØng ai y√™u th√≠ch kh√°m ph√° vƒÉn h√≥a v√† truy·ªÅn th·ªëng ƒëa d·∫°ng c·ªßa 54 d√¢n t·ªôc Vi·ªát Nam. ƒê√¢y kh√¥ng ch·ªâ l√† m·ªôt b·∫£o t√†ng v·ªõi c√°c hi·ªán v·∫≠t tr∆∞ng b√†y, m√† c√≤n l√† m·ªôt kh√¥ng gian t∆∞∆°ng t√°c phong ph√∫ v·ªõi m√¥ h√¨nh v√† c√°c ho·∫°t ƒë·ªông gi√°o d·ª•c th√∫ v·ªã.\n\nM·ªôt trong nh·ªØng ƒëi·ªÉm n·ªïi b·∫≠t c·ªßa b·∫£o t√†ng l√† khu v·ª±c ngo√†i tr·ªùi r·ªông r√£i, n∆°i tr·∫ª em c√≥ th·ªÉ vui ch∆°i v√† tr·∫£i nghi·ªám nh·ªØng ho·∫°t ƒë·ªông mang t√≠nh gi·∫£i tr√≠ cao, t·ª´ m√∫a r·ªëi n∆∞·ªõc ƒë·∫øn c√°c tr√≤ ch∆°i d√¢n gian. C√°c m√¥ h√¨nh ki·∫øn tr√∫c truy·ªÅn th·ªëng nh∆∞ nh√† r√¥ng c·ªßa ng∆∞·ªùi T√¢y Nguy√™n hay nh√† s√†n c·ªßa ng∆∞·ªùi Th√°i c≈©ng gi√∫p kh√°ch tham quan c√≥ c√°i nh√¨n tr·ª±c quan v·ªÅ ƒë·ªùi s·ªëng c·ªßa c√°c d√¢n t·ªôc.\n\nB·∫£o t√†ng D√¢n t·ªôc h·ªçc c√≤n l√† m·ªôt l·ª±a ch·ªçn t·ªët thay th·∫ø cho nh·ªØng ƒëi·ªÉm ƒë·∫øn ƒë√¥ng ƒë√∫c kh√°c, nh·ªù v√†o kh√¥ng gian tho√°ng ƒë√£ng v√† s·ª± t·∫≠p trung v√†o gi√°o d·ª•c v√† tr·∫£i nghi·ªám th·ª±c t·∫ø. N∆°i ƒë√¢y ƒë√°p ·ª©ng nhu c·∫ßu t√¨m hi·ªÉu s√¢u v·ªÅ vƒÉn h√≥a m√† kh√¥ng g√¢y c·∫£m gi√°c ch·∫≠t ch·ªôi ho·∫∑c ng·ªôt ng·∫°t.\n\nV·ªõi s·ª± ch√∫ tr·ªçng t·ªõi vi·ªác b·∫£o t·ªìn di s·∫£n vƒÉn h√≥a, b·∫£o t√†ng c≈©ng gi·∫£i quy·∫øt nh·ªØng lo ng·∫°i v·ªÅ thi·∫øu hi·ªÉu bi·∫øt vƒÉn h√≥a khi t·ªï ch·ª©c c√°c ch∆∞∆°ng tr√¨nh gi√°o d·ª•c cho tr·∫ª', 'price_ai_estimate': 150000.0}, {'id': 'place_000594', 'name': 'Khu vui ch∆°i Thi√™n ƒë∆∞·ªùng B·∫£o S∆°n', 'description': 'Khu vui ch∆°i Thi√™n ƒê∆∞·ªùng B·∫£o S∆°n l√† ƒëi·ªÉm ƒë·∫øn tuy·ªát v·ªùi cho gia ƒë√¨nh v√† tr·∫ª em, n∆°i k·∫øt h·ª£p gi·ªØa c√°c ho·∫°t ƒë·ªông gi·∫£i tr√≠ v√† gi√°o d·ª•c. M·ªôt trong nh·ªØng ƒëi·ªÉm ƒë·∫∑c bi·ªát c·ªßa khu vui ch∆°i n√†y ch√≠nh l√† B·∫£o t√†ng T∆∞∆°ng t√°c ‚Äì n∆°i tr·∫ª em kh√¥ng ch·ªâ ƒë∆∞·ª£c tham gia v√†o nh·ªØng tr√≤ ch∆°i th√∫ v·ªã m√† c√≤n c√≥ c∆° h·ªôi kh√°m ph√° v√† h·ªçc h·ªèi th√¥ng qua c√°c tri·ªÉn l√£m sinh ƒë·ªông.\n\nKhu v·ª±c vui ch∆°i ƒë∆∞·ª£c thi·∫øt k·∫ø ƒëa d·∫°ng v·ªõi nhi·ªÅu m√¥ h√¨nh tr√≤ ch∆°i, t·ª´ c·∫ßu tr∆∞·ª£t, xu·ªìng l·ªôi n∆∞·ªõc ƒë·∫øn nh·ªØng tr√≤ ch∆°i m·∫°o hi·ªÉm cho nh·ªØng ai y√™u th√≠ch c·∫£m gi√°c m·∫°nh. Ngo√†i ra, c√°c ho·∫°t ƒë·ªông ngh·ªá thu·∫≠t v√† khoa h·ªçc c≈©ng ƒë∆∞·ª£c t·ªï ch·ª©c th∆∞·ªùng xuy√™n, gi√∫p ph√°t tri·ªÉn t∆∞ duy s√°ng t·∫°o v√† kh·∫£ nƒÉng giao ti·∫øp c·ªßa tr·∫ª nh·ªè.\n\nƒê·ªëi v·ªõi nh·ªØng ph·ª• huynh t√¨m ki·∫øm m·ªôt ph∆∞∆°ng √°n thay th·∫ø cho c√°c trung t√¢m gi·∫£i tr√≠ truy·ªÅn th·ªëng, Thi√™n ƒê∆∞·ªùng B·∫£o S∆°n mang ƒë·∫øn m·ªôt kh√¥ng gian an to√†n v√† l√†nh m·∫°nh, n∆°i tr·∫ª em c√≥ th·ªÉ kh√°m ph√° v√† ph√°t tri·ªÉn c√°c k·ªπ nƒÉng x√£ h·ªôi c√πng b·∫°n b√®.\n\nNgo√†i ra, khu vui ch∆°i c≈©ng nh·∫≠n ƒë∆∞·ª£c nhi·ªÅu ph·∫£n h·ªìi t√≠ch c·ª±c t·ª´ ng∆∞·ªùi d√πng v·ªÅ ƒë·ªôi ng≈© nh√¢n vi√™n th√¢n thi·ªán v√† s·ª± s·∫°ch s·∫Ω. Nh·ªØng m·ªëi quan t√¢m v·ªÅ an to√†n s·∫Ω ƒë∆∞·ª£c gi·∫£i quy·∫øt th√¥ng qua vi·ªác ƒë·∫£m b·∫£o quy ƒë·ªãnh an to√†n v√† chƒÉm s√≥c tr·∫ª h√†ng ng√†y. Thi√™n ƒê∆∞·ªùng B·∫£o S∆°n s·∫Ω l√† l·ª±a', 'price_ai_estimate': 500000.0}, {'id': 'place_000881', 'name': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam', 'description': 'B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam l√† m·ªôt ƒëi·ªÉm ƒë·∫øn ƒë·ªôc ƒë√°o, t·ªça l·∫°c t·∫°i trung t√¢m H√† N·ªôi, d√†nh cho nh·ªØng ai th√≠ch t√¨m hi·ªÉu v·ªÅ vai tr√≤ v√† ƒë√≥ng g√≥p c·ªßa ph·ª• n·ªØ trong l·ªãch s·ª≠ v√† vƒÉn h√≥a Vi·ªát Nam. V·ªõi thi·∫øt k·∫ø hi·ªán ƒë·∫°i v√† kh√¥ng gian th√¢n thi·ªán, b·∫£o t√†ng mang ƒë·∫øn cho du kh√°ch nhi·ªÅu khu v·ª±c t∆∞∆°ng t√°c th√∫ v·ªã, gi√∫p h·ªç c√≥ th·ªÉ hi·ªÉu s√¢u h∆°n v·ªÅ c√°c ch·ªß ƒë·ªÅ ph·ª• n·ªØ t·ª´ th·ªùi k·ª≥ x∆∞a cho ƒë·∫øn hi·ªán ƒë·∫°i.\n\nM·ªôt trong nh·ªØng ƒëi·ªÅu ƒë·∫∑c bi·ªát c·ªßa b·∫£o t√†ng l√† c√°c tri·ªÉn l√£m phong ph√∫, bao g·ªìm c·∫£ ngh·ªá thu·∫≠t, th·ªß c√¥ng truy·ªÅn th·ªëng v√† c√¢u chuy·ªán ƒë·ªùi s·ªëng c·ªßa ph·ª• n·ªØ trong nhi·ªÅu lƒ©nh v·ª±c. B·∫£o t√†ng kh√¥ng ch·ªâ ph√π h·ª£p cho ng∆∞·ªùi l·ªõn m√† c√≤n r·∫•t th√¢n thi·ªán v·ªõi tr·∫ª em, v·ªõi th·ªùi gian tham quan ng·∫Øn v√† c√°c ho·∫°t ƒë·ªông th√∫ v·ªã, nh∆∞ tr√≤ ch∆°i v√† m√¥ h√¨nh t∆∞∆°ng t√°c.\n\nSo v·ªõi nh·ªØng ƒë·ªãa ƒëi·ªÉm kh√°c, B·∫£o t√†ng Ph·ª• n·ªØ Vi·ªát Nam l√† l·ª±a ch·ªçn tuy·ªát v·ªùi cho gia ƒë√¨nh mu·ªën c√≥ m·ªôt tr·∫£i nghi·ªám gi√°o d·ª•c m√† v·∫´n vui v·∫ª. C√°c b·∫≠c ph·ª• huynh c√≥ th·ªÉ y√™n t√¢m khi d·∫´n tr·∫ª ƒë·∫øn ƒë√¢y, v√¨ b·∫£o t√†ng ƒë√£ ch√∫ √Ω r·∫•t nhi·ªÅu ƒë·∫øn vi·ªác t·∫°o ra tr·∫£i nghi·ªám th√¢n thi·ªán v√† d·ªÖ hi·ªÉu cho c√°c em. Nh·ªù v√†o c√°c b√¨nh lu·∫≠n t√≠ch c·ª±c t·ª´ ng∆∞·ªùi d√πng, b·∫£o t√†ng ƒë√£ c·∫£i thi·ªán c√°c khu v·ª±c tham quan ƒë·ªÉ ƒë√°p ·ª©ng t·ªët h∆°n nhu c·∫ßu c·ªßa du kh√°ch', 'price_ai_estimate': 150000.0}], 'query_used': '  in '}
